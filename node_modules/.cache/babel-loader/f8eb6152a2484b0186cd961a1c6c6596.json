{"ast":null,"code":"var _jsxFileName = \"/Users/USER/Desktop/MuunganoMoney/src/Current/Time.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './Time.css';\nimport REturnPriX from './Prix';\nimport Media from 'react-media';\nimport { doc, onSnapshot, getDocs, collection, updateDoc, increment } from \"firebase/firestore\";\nimport { phoneX } from '../Sign/Input';\nimport { db } from '../firebase';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport let exchAnge = 0; // Export view \n\nasync function incrementThriftMoney(soldeUsd, soldeCdf, status, phoneNumber) {\n  const savingsRef = doc(db, `${status}`, phoneNumber);\n  await updateDoc(savingsRef, {\n    cdf: increment(soldeCdf),\n    usd: increment(soldeUsd)\n  });\n}\n\n;\n\nasync function decrementThriftMoney(status, phoneNumber) {\n  const savingsRef = doc(db, `${status}`, phoneNumber);\n  await updateDoc(savingsRef, {\n    thriftcdf: 0,\n    thriftusd: 0\n  });\n}\n\n; // Return Phone input component\n\nexport default function REturnInputPhone() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Media, {\n      queries: {\n        small: '(max-width: 599px)',\n        medium: '(min-width: 600px) and (max-width:1199px)',\n        large: '(min-width: 1200px)'\n      },\n      children: matches => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [matches.small && /*#__PURE__*/_jsxDEV(ScreenSmall, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this), matches.medium && /*#__PURE__*/_jsxDEV(ScreenLarge, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 26\n        }, this), matches.large && /*#__PURE__*/_jsxDEV(ScreenLarge, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n}\n_c = REturnInputPhone;\n;\nexport const ScreenLarge = () => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(REturnPriX, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrp-frais-current\",\n      children: /*#__PURE__*/_jsxDEV(FormInputValue, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_c2 = ScreenLarge;\nexport const ScreenSmall = () => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(REturnPriX, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrp-frais-current-sm\",\n      children: /*#__PURE__*/_jsxDEV(FormInputValue, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_c3 = ScreenSmall;\nexport const FormInputValue = () => {\n  _s();\n\n  let pushArray = new Array();\n  let endMonth = moment().endOf('month');\n  const [state, setState] = React.useState('');\n  const [prixusd, setPrixusd] = React.useState(null);\n  const [prixcdf, setPrixcdf] = React.useState(null);\n  React.useEffect(async () => {\n    const querySnapshot = await getDocs(collection(db, \"client\"));\n    querySnapshot.forEach(doc => {\n      pushArray.push(doc.id);\n    });\n    const verifier = pushArray.some(index => index == phoneX);\n    const unsub = onSnapshot(doc(db, verifier ? \"client\" : \"agent\", phoneX), doc => {\n      setState(doc.data().state);\n      setPrixusd(doc.data().thriftusd);\n      setPrixcdf(doc.data().thriftcdf);\n    });\n\n    if (moment().isSame(endMonth)) {\n      incrementThriftMoney(prixusd, prixcdf, state, phoneX);\n      window.setTimeout(() => {\n        decrementThriftMoney(state, phoneX);\n      }, 3000);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: `Compte d'Ã©pargne disponible`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: `${endMonth.locale('fr').format('LL')}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FormInputValue, \"6IaiIuTrOxL8I0fHjqc3dLFctIk=\");\n\n_c4 = FormInputValue;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"REturnInputPhone\");\n$RefreshReg$(_c2, \"ScreenLarge\");\n$RefreshReg$(_c3, \"ScreenSmall\");\n$RefreshReg$(_c4, \"FormInputValue\");","map":{"version":3,"sources":["/Users/USER/Desktop/MuunganoMoney/src/Current/Time.js"],"names":["React","REturnPriX","Media","doc","onSnapshot","getDocs","collection","updateDoc","increment","phoneX","db","moment","exchAnge","incrementThriftMoney","soldeUsd","soldeCdf","status","phoneNumber","savingsRef","cdf","usd","decrementThriftMoney","thriftcdf","thriftusd","REturnInputPhone","small","medium","large","matches","ScreenLarge","ScreenSmall","FormInputValue","pushArray","Array","endMonth","endOf","state","setState","useState","prixusd","setPrixusd","prixcdf","setPrixcdf","useEffect","querySnapshot","forEach","push","id","verifier","some","index","unsub","data","isSame","window","setTimeout","locale","format"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Time.css';\nimport REturnPriX from './Prix';\nimport Media from 'react-media';\nimport { doc, onSnapshot, getDocs, collection, updateDoc, increment } from \"firebase/firestore\";\nimport { phoneX } from '../Sign/Input';\nimport { db } from '../firebase';\nimport moment from 'moment';\n\nexport let exchAnge = 0; // Export view \n\nasync function incrementThriftMoney(soldeUsd, soldeCdf, status, phoneNumber) {\n\n const savingsRef = doc(db, `${status}`, phoneNumber);\n await updateDoc(savingsRef, {\n  cdf: increment(soldeCdf),\n  usd: increment(soldeUsd),\n });\n\n};\nasync function decrementThriftMoney(status, phoneNumber) {\n\n const savingsRef = doc(db, `${status}`, phoneNumber);\n await updateDoc(savingsRef, {\n  thriftcdf: 0,\n  thriftusd: 0,\n });\n\n};\n\n// Return Phone input component\nexport default function REturnInputPhone() {\n return (\n  <>\n   <Media\n    queries={{\n     small: '(max-width: 599px)',\n     medium: '(min-width: 600px) and (max-width:1199px)',\n     large: '(min-width: 1200px)',\n    }}>\n    {matches => (\n     <>\n      {matches.small && <ScreenSmall />}\n      {matches.medium && <ScreenLarge />}\n      {matches.large && <ScreenLarge />}\n     </>\n    )}\n   </Media>\n  </>\n );\n};\n\nexport const ScreenLarge = () => {\n return (\n  <>\n   <REturnPriX />\n   <div className='wrp-frais-current'>\n    <FormInputValue />\n   </div>\n  </>\n );\n};\nexport const ScreenSmall = () => {\n return (\n  <>\n   <REturnPriX />\n   <div className='wrp-frais-current-sm'>\n    <FormInputValue />\n   </div>\n  </>\n )\n};\nexport const FormInputValue = () => {\n\n let pushArray = new Array();\n let endMonth = moment().endOf('month');\n\n const [state, setState] = React.useState('');\n const [prixusd, setPrixusd] = React.useState(null);\n const [prixcdf, setPrixcdf] = React.useState(null);\n\n React.useEffect(async () => {\n\n  const querySnapshot = await getDocs(collection(db, \"client\"));\n  querySnapshot.forEach((doc) => {\n   pushArray.push(doc.id);\n\n  });\n\n  const verifier = pushArray.some(index => index == phoneX);\n  const unsub = onSnapshot(doc(db, verifier ? \"client\" : \"agent\", phoneX), (doc) => {\n   setState(doc.data().state);\n   setPrixusd(doc.data().thriftusd);\n   setPrixcdf(doc.data().thriftcdf);\n  });\n\n  if (moment().isSame(endMonth)) {\n\n   incrementThriftMoney(prixusd, prixcdf, state, phoneX);\n   window.setTimeout(() => {\n    decrementThriftMoney(state, phoneX);\n   }, 3000);\n\n  }\n\n }, []);\n\n return (\n  <>\n   <span>{`Compte d'Ã©pargne disponible`}</span>\n   <span>{`${endMonth.locale('fr').format('LL')}`}</span>\n  </>\n );\n};\n"]},"metadata":{},"sourceType":"module"}