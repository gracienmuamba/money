{"ast":null,"code":"var _jsxFileName = \"/Users/USER/Documents/Money/src/Command/Nav/Search.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Paper from '@mui/material/Paper';\nimport InputBase from '@mui/material/InputBase';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport { useForm, Controller } from 'react-hook-form';\nimport './Search.css';\nimport './User.css';\nimport { db } from '../../firebase';\nimport { collection, getDocs } from \"firebase/firestore\";\nimport Box from '@mui/material/Box';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport { useNavigate } from 'react-router-dom';\nimport Avatar from '@mui/material/Avatar';\nimport { CiSearch } from 'react-icons/ci';\nimport ReturnIMA from './IMA';\nimport { TweenMax, Expo } from 'gsap';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet search = '';\nexport async function getSearchColumn(col) {\n  let pushDoc = new Array();\n  const querySnapshot = await getDocs(collection(db, `${col}`));\n  querySnapshot.forEach(doc => {\n    // doc.data() is never undefined for query doc snapshots\n    pushDoc.push(doc.data());\n  });\n  let arr = pushDoc.sort((a, b) => {\n    return a.date - b.date;\n  });\n  window.console.log(arr);\n  window.localStorage.setItem('%%docs&&col**', JSON.stringify(arr.reverse()));\n}\n;\nconst colors = ['#00b4d8', '#6a040f', '#00b4d8', '#8d99ae', '#582f0e', '#001d3d', '#386641', '#2c7da0', '#335c67', '#10002b', '#240046', '#495057', '#15616d', '#1b4965', '#5fa8d3', '#9c89b8', '#fb6f92', '#9c6644', '#7f5539', '#780000', '#007200', '#9e0059', '#065a60', '#312244', '#ff477e', '#b07d62', '#b07d62', '#242038', '#242038', '#087e8b', '#29274c', '#7e52a0', '#735d78', '#4f5d75', '#132a13'];\n\nconst random = (min, max) => Math.floor(Math.random() * (max - min)) + min;\n\nexport default function CustomizedInputBase() {\n  _s();\n\n  const navigation = useNavigate();\n  const {\n    control,\n    watch\n  } = useForm({});\n  let pushDoc = new Array();\n  let pushDate = new Array();\n  const [arr, setArr] = React.useState([]);\n  const [time, setTime] = React.useState([]);\n  React.useEffect(async () => {\n    const querySnapshot = await getDocs(collection(db, `${JSON.parse(window.localStorage.getItem('USER'))}`));\n    querySnapshot.forEach(doc => {\n      // doc.data() is never undefined for query doc snapshots\n      if (true) {\n        pushDoc.push({\n          id: doc.id,\n          first: doc.data().firstname,\n          last: doc.data().lastname,\n          date: new Date(doc.data().date).getTime()\n        });\n        pushDate.push(new Date(doc.data().date).getTime());\n      }\n    });\n    setArr(pushDoc);\n    setTime(pushDate);\n    TweenMax.staggerFrom('.user-box-stock .Anima', 1.5, {\n      delay: 1.5,\n      opacity: 0,\n      y: 20,\n      ease: Expo.easeInOut\n    }, 0.08);\n  }, []);\n  let newArr = arr.sort(function (a, b) {\n    if (a.date > b.date) return 1;\n    if (a.date < b.date) return -1;\n    return 0;\n  });\n  search = watch('search');\n\n  const handleListItemClick = idfiat => {\n    getSearchColumn(idfiat.id);\n    window.localStorage.setItem('--vie&&id', JSON.stringify(idfiat.id));\n    window.localStorage.setItem('--vie&&first**', JSON.stringify(idfiat.first));\n    window.localStorage.setItem('--vie&&last**', JSON.stringify(idfiat.last));\n    window.setTimeout(() => {\n      navigation('/command/agent/list');\n    }, 4500);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrp-search-stock\",\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      component: \"form\",\n      sx: {\n        p: '2px 2px',\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Controller, {\n        name: \"search\",\n        control: control,\n        defaultValue: \"\",\n        render: ({\n          field\n        }) => /*#__PURE__*/_jsxDEV(InputBase, {\n          sx: {\n            ml: 1,\n            flex: 1\n          },\n          placeholder: \"Rechercher Fiat\",\n          inputProps: {\n            'aria-label': 'search',\n            autoComplete: \"off\"\n          },\n          ...field\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        type: \"button\",\n        sx: {\n          p: '5px'\n        },\n        \"aria-label\": \"search\",\n        children: /*#__PURE__*/_jsxDEV(CiSearch, {\n          size: '1.2em'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        sx: {\n          height: 28,\n          m: 0.5\n        },\n        orientation: \"vertical\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"primary\",\n        sx: {\n          p: '10px'\n        },\n        \"aria-label\": \"directions\",\n        children: /*#__PURE__*/_jsxDEV(ReturnIMA, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-box-stock\",\n      children: [...newArr].reverse().filter(item => {\n        return search.toLowerCase() === '' ? item : item.id.includes(search.toLowerCase());\n      }).map(index => {\n        let str = index.first;\n        let name = str[0].toUpperCase() + str.slice(1);\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            width: '100%',\n            bgcolor: 'background.paper'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            \"aria-label\": \"main mailbox folders\",\n            children: /*#__PURE__*/_jsxDEV(List, {\n              children: /*#__PURE__*/_jsxDEV(ListItem, {\n                disablePadding: true,\n                children: /*#__PURE__*/_jsxDEV(ListItemButton, {\n                  onClick: () => handleListItemClick(index),\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-list-user-stock Anima\",\n                    children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                      children: /*#__PURE__*/_jsxDEV(Avatar, {\n                        sx: {\n                          bgcolor: `${colors[random(0, colors.length - 1)]}`,\n                          height: 55,\n                          width: 55\n                        },\n                        children: [index.first[0].toUpperCase(), index.last[0].toUpperCase()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 14\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [name, \" \", index.last.toLowerCase()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 172,\n                        columnNumber: 14\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 10\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 7\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 3\n  }, this);\n}\n\n_s(CustomizedInputBase, \"2rja7lUyDceBACtK2pZnzoaGF2Q=\", false, function () {\n  return [useNavigate, useForm];\n});\n\n_c = CustomizedInputBase;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomizedInputBase\");","map":{"version":3,"sources":["/Users/USER/Documents/Money/src/Command/Nav/Search.js"],"names":["React","Paper","InputBase","Divider","IconButton","useForm","Controller","db","collection","getDocs","Box","List","ListItem","ListItemButton","ListItemIcon","ListItemText","useNavigate","Avatar","CiSearch","ReturnIMA","TweenMax","Expo","moment","search","getSearchColumn","col","pushDoc","Array","querySnapshot","forEach","doc","push","data","arr","sort","a","b","date","window","console","log","localStorage","setItem","JSON","stringify","reverse","colors","random","min","max","Math","floor","CustomizedInputBase","navigation","control","watch","pushDate","setArr","useState","time","setTime","useEffect","parse","getItem","id","first","firstname","last","lastname","Date","getTime","staggerFrom","delay","opacity","y","ease","easeInOut","newArr","handleListItemClick","idfiat","setTimeout","p","display","alignItems","width","field","ml","flex","autoComplete","height","m","filter","item","toLowerCase","includes","map","index","str","name","toUpperCase","slice","bgcolor","length"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Paper from '@mui/material/Paper';\nimport InputBase from '@mui/material/InputBase';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport './Search.css';\nimport './User.css';\n\nimport { db } from '../../firebase';\nimport { collection, getDocs } from \"firebase/firestore\";\n\nimport Box from '@mui/material/Box';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport { useNavigate } from 'react-router-dom';\n\nimport Avatar from '@mui/material/Avatar';\nimport { CiSearch } from 'react-icons/ci';\n\nimport ReturnIMA from './IMA';\nimport { TweenMax, Expo } from 'gsap';\nimport moment from 'moment';\n\nlet search = '';\n\nexport async function getSearchColumn(col) {\n\n let pushDoc = new Array();\n\n const querySnapshot = await getDocs(collection(db, `${col}`));\n querySnapshot.forEach((doc) => {\n  // doc.data() is never undefined for query doc snapshots\n  pushDoc.push(doc.data());\n });\n\n let arr = pushDoc.sort((a, b) => { return a.date - b.date })\n window.console.log(arr);\n\n window.localStorage.setItem('%%docs&&col**', JSON.stringify(arr.reverse()));\n\n};\n\nconst colors = [\n '#00b4d8', '#6a040f', '#00b4d8', '#8d99ae', '#582f0e', '#001d3d', '#386641',\n '#2c7da0', '#335c67', '#10002b', '#240046', '#495057', '#15616d', '#1b4965',\n '#5fa8d3', '#9c89b8', '#fb6f92', '#9c6644', '#7f5539', '#780000', '#007200',\n '#9e0059', '#065a60', '#312244', '#ff477e', '#b07d62', '#b07d62', '#242038',\n '#242038', '#087e8b', '#29274c', '#7e52a0', '#735d78', '#4f5d75', '#132a13'\n];\n\nconst random = (min, max) => Math.floor(Math.random() * (max - min)) + min;\n\nexport default function CustomizedInputBase() {\n\n const navigation = useNavigate();\n const { control, watch } = useForm({});\n\n\n let pushDoc = new Array();\n let pushDate = new Array();\n const [arr, setArr] = React.useState([]);\n const [time, setTime] = React.useState([]);\n\n\n React.useEffect(async () => {\n\n  const querySnapshot = await getDocs(collection(db, `${JSON.parse(window.localStorage.getItem('USER'))}`));\n  querySnapshot.forEach((doc) => {\n   // doc.data() is never undefined for query doc snapshots\n   if (true) {\n    pushDoc.push({ id: doc.id, first: doc.data().firstname, last: doc.data().lastname, date: new Date(doc.data().date).getTime() });\n    pushDate.push(new Date(doc.data().date).getTime())\n\n   }\n\n  });\n\n  setArr(pushDoc);\n  setTime(pushDate);\n  TweenMax.staggerFrom('.user-box-stock .Anima', 1.5, { delay: 1.5, opacity: 0, y: 20, ease: Expo.easeInOut }, 0.08);\n\n }, []);\n\n let newArr = arr.sort(function (a, b) {\n\n  if (a.date > b.date) return 1;\n  if (a.date < b.date) return -1;\n  return 0;\n })\n\n\n search = watch('search');\n const handleListItemClick = (idfiat) => {\n\n  getSearchColumn(idfiat.id);\n\n  window.localStorage.setItem('--vie&&id', JSON.stringify(idfiat.id));\n  window.localStorage.setItem('--vie&&first**', JSON.stringify(idfiat.first));\n  window.localStorage.setItem('--vie&&last**', JSON.stringify(idfiat.last));\n\n  window.setTimeout(() => {\n   navigation('/command/agent/list');\n  }, 4500);\n\n };\n\n return (\n  <div className='wrp-search-stock'>\n   <Paper\n    component=\"form\"\n    sx={{ p: '2px 2px', display: 'flex', alignItems: 'center', width: '100%' }}>\n\n    <Controller\n     name=\"search\"\n     control={control}\n     defaultValue=''\n     render={({ field }) =>\n\n      <InputBase\n       sx={{ ml: 1, flex: 1 }}\n       placeholder=\"Rechercher Fiat\"\n       inputProps={{ 'aria-label': 'search', autoComplete: \"off\", }}\n       {...field}\n      />\n\n     } />\n\n\n    <IconButton type=\"button\" sx={{ p: '5px' }} aria-label=\"search\">\n     <CiSearch size={'1.2em'} />\n    </IconButton>\n\n    <Divider sx={{ height: 28, m: 0.5 }} orientation=\"vertical\" />\n\n    <IconButton color=\"primary\" sx={{ p: '10px' }} aria-label=\"directions\">\n     <ReturnIMA />\n    </IconButton>\n\n   </Paper>\n\n   <div className='user-box-stock'>\n\n    {[...newArr].reverse().filter((item) => {\n     return search.toLowerCase() === '' ? item : item.id.includes(search.toLowerCase());\n\n    }).map((index) => {\n\n     let str = index.first;\n     let name = str[0].toUpperCase() + str.slice(1);\n\n     return (\n      <Box sx={{ width: '100%', bgcolor: 'background.paper' }}>\n\n       <nav aria-label=\"main mailbox folders\">\n        <List key={index}>\n         <ListItem disablePadding>\n          <ListItemButton onClick={() => handleListItemClick(index)}>\n\n           <div className='flex-list-user-stock Anima'>\n            <ListItemIcon>\n             <Avatar sx={{ bgcolor: `${colors[random(0, colors.length - 1)]}`, height: 55, width: 55 }} >\n              {index.first[0].toUpperCase()}{index.last[0].toUpperCase()}\n             </Avatar>\n            </ListItemIcon>\n\n            <ListItemText>\n             <p>{name} {index.last.toLowerCase()}</p>\n            </ListItemText>\n           </div>\n\n\n          </ListItemButton>\n         </ListItem>\n\n        </List>\n\n       </nav>\n      </Box>\n     )\n    })}\n\n   </div>\n  </div>\n );\n}\n"]},"metadata":{},"sourceType":"module"}