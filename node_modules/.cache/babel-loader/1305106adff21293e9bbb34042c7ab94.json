{"ast":null,"code":"import _regeneratorRuntime from\"/Users/USER/Desktop/MuunganoMoney/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/USER/Desktop/MuunganoMoney/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/USER/Desktop/MuunganoMoney/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{IoSend}from'react-icons/io5';import'./Btn.css';import{useNavigate}from'react-router-dom';import{collection,getDocs,doc,getDoc}from\"firebase/firestore\";import{db}from'../firebase';import{phoneX}from'../Sign/Input';// Button blocked\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ReturnBtn(){var pushDocs=new Array();var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];var navigation=useNavigate();var handlepath=function handlepath(event){event.preventDefault();navigation('/send-usd');};React.useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var querySnapshot,verifier,docRef,docSnap;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(collection(db,\"client\"));case 2:querySnapshot=_context.sent;querySnapshot.forEach(function(doc){pushDocs.push(doc.id);});verifier=pushDocs.some(function(value){return value==phoneX;});docRef=doc(db,verifier?\"client\":\"agent\",phoneX);_context.next=8;return getDoc(docRef);case 8:docSnap=_context.sent;if(docSnap.exists()){setState(docSnap.data().state);}case 10:case\"end\":return _context.stop();}}},_callee);})),[]);return/*#__PURE__*/_jsxs(\"button\",{onClick:handlepath,className:'Btn',children:[/*#__PURE__*/_jsx(\"span\",{children:state==\"client\"?\"Retrait\":\"Envoyer\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(IoSend,{size:'1em'})})]});};","map":{"version":3,"sources":["/Users/USER/Desktop/MuunganoMoney/src/ExUSd/Btn.js"],"names":["React","IoSend","useNavigate","collection","getDocs","doc","getDoc","db","phoneX","ReturnBtn","pushDocs","Array","useState","state","setState","navigation","handlepath","event","preventDefault","useEffect","querySnapshot","forEach","push","id","verifier","some","value","docRef","docSnap","exists","data"],"mappings":"qcAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,MAAO,WAAP,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,UAAT,CAAqBC,OAArB,CAA8BC,GAA9B,CAAmCC,MAAnC,KAAiD,oBAAjD,CAEA,OAASC,EAAT,KAAmB,aAAnB,CACA,OAASC,MAAT,KAAuB,eAAvB,CAEA;wFACA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAEnC,GAAIC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,KAAJ,EAAf,CAFmC,oBAGTX,KAAK,CAACY,QAAN,EAHS,oDAG5BC,KAH4B,qBAGrBC,QAHqB,qBAKnC,GAAMC,CAAAA,UAAU,CAAGb,WAAW,EAA9B,CACA,GAAMc,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC7BA,KAAK,CAACC,cAAN,GACAH,UAAU,CAAC,WAAD,CAAV,CACA,CAHD,CAKAf,KAAK,CAACmB,SAAN,sEAAgB,mMAEaf,CAAAA,OAAO,CAACD,UAAU,CAACI,EAAD,CAAK,QAAL,CAAX,CAFpB,QAETa,aAFS,eAGfA,aAAa,CAACC,OAAd,CAAsB,SAAChB,GAAD,CAAS,CAC9BK,QAAQ,CAACY,IAAT,CAAcjB,GAAG,CAACkB,EAAlB,EACA,CAFD,EAGMC,QANS,CAMEd,QAAQ,CAACe,IAAT,CAAc,SAAAC,KAAK,QAAIA,CAAAA,KAAK,EAAIlB,MAAb,EAAnB,CANF,CAQTmB,MARS,CAQAtB,GAAG,CAACE,EAAD,CAAKiB,QAAQ,CAAG,QAAH,CAAc,OAA3B,CAAoChB,MAApC,CARH,uBASOF,CAAAA,MAAM,CAACqB,MAAD,CATb,QASTC,OATS,eAWf,GAAIA,OAAO,CAACC,MAAR,EAAJ,CAAsB,CACrBf,QAAQ,CAACc,OAAO,CAACE,IAAR,GAAejB,KAAhB,CAAR,CACA,CAbc,uDAAhB,GAeG,EAfH,EAiBA,mBACC,gBAAQ,OAAO,CAAEG,UAAjB,CAA6B,SAAS,CAAE,KAAxC,wBACC,sBACEH,KAAK,EAAI,QAAT,CAAoB,SAApB,CAAgC,SADlC,EADD,cAKC,kCAAK,KAAC,MAAD,EAAQ,IAAI,CAAE,KAAd,EAAL,EALD,GADD,CASA","sourcesContent":["import React from 'react';\nimport { IoSend } from 'react-icons/io5';\nimport './Btn.css';\nimport { useNavigate } from 'react-router-dom';\nimport { collection, getDocs, doc, getDoc } from \"firebase/firestore\";\n\nimport { db } from '../firebase';\nimport { phoneX } from '../Sign/Input';\n\n// Button blocked\nexport default function ReturnBtn() {\n\n let pushDocs = new Array();\n const [state, setState] = React.useState();\n\n const navigation = useNavigate();\n const handlepath = (event) => {\n  event.preventDefault();\n  navigation('/send-usd');\n };\n\n React.useEffect(async () => {\n\n  const querySnapshot = await getDocs(collection(db, \"client\"));\n  querySnapshot.forEach((doc) => {\n   pushDocs.push(doc.id);\n  });\n  const verifier = pushDocs.some(value => value == phoneX);\n\n  const docRef = doc(db, verifier ? \"client\" : \"agent\", phoneX);\n  const docSnap = await getDoc(docRef);\n\n  if (docSnap.exists()) {\n   setState(docSnap.data().state)\n  }\n\n }, []);\n\n return (\n  <button onClick={handlepath} className={'Btn'}>\n   <span>\n    {state == \"client\" ? \"Retrait\" : \"Envoyer\"}\n   </span>\n\n   <div><IoSend size={'1em'} /></div>\n  </button>\n );\n};"]},"metadata":{},"sourceType":"module"}