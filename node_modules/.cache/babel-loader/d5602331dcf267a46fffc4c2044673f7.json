{"ast":null,"code":"import _objectSpread from\"/Users/USER/Desktop/MuunganoMoney/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/USER/Desktop/MuunganoMoney/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/USER/Desktop/MuunganoMoney/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/USER/Desktop/MuunganoMoney/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import'./Input.css';import REturnPriX from'./Prix';import Media from'react-media';import{useForm}from'react-hook-form';import{useNavigate}from'react-router-dom';import{Fc}from'../Money';import{doc,getDocs,collection,onSnapshot}from'firebase/firestore';import{db}from'../firebase';import{phoneX}from'../Sign/Input';import Button from'@mui/material/Button';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogTitle from'@mui/material/DialogTitle';import DialogContentText from'@mui/material/DialogContentText';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var money=0;export var count=0;export var frais=0;export var solde=0;export var Unite=null;// Return Phone input component\nexport default function REturnInputPhone(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Media,{queries:{small:'(max-width: 599px)',medium:'(min-width: 600px) and (max-width:1199px)',large:'(min-width: 1200px)'},children:function children(matches){return/*#__PURE__*/_jsxs(_Fragment,{children:[matches.small&&/*#__PURE__*/_jsx(ScreenSmall,{}),matches.medium&&/*#__PURE__*/_jsx(ScreenLarge,{}),matches.large&&/*#__PURE__*/_jsx(ScreenLarge,{})]});}})});};export var ScreenLarge=function ScreenLarge(){return/*#__PURE__*/_jsx(FormInputValue,{});};export var ScreenSmall=function ScreenSmall(){return/*#__PURE__*/_jsx(FormInputValue,{});};export var FormInputValue=function FormInputValue(){var navigation=useNavigate();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,reset=_useForm.reset;var _React$useState=React.useState(Fc),_React$useState2=_slicedToArray(_React$useState,2),prix=_React$useState2[0],setPrix=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),agent=_React$useState4[0],setAgent=_React$useState4[1];var pushUser=new Array();var verifierCollection=null;var entry=watch('count');var value=entry==undefined?prix:Number(prix)-Number(entry);var _React$useState5=React.useState(true),_React$useState6=_slicedToArray(_React$useState5,2),checked=_React$useState6[0],setChecked=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),open=_React$useState8[0],setOpen=_React$useState8[1];var _React$useState9=React.useState(true),_React$useState10=_slicedToArray(_React$useState9,2),fullWidth=_React$useState10[0],setFullWidth=_React$useState10[1];var _React$useState11=React.useState('sm'),_React$useState12=_slicedToArray(_React$useState11,2),maxWidth=_React$useState12[0],setMaxWidth=_React$useState12[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};if(Number(entry)<=12500){frais=remainderInput(entry,17.5);count=doesInputEntry(entry,frais);}else if(Number(entry)>12500&&Number(entry)<=25000){frais=remainderInput(entry,8.7);count=count=doesInputEntry(entry,frais);}else if(Number(entry)>25000&&Number(entry)<=50000){frais=remainderInput(entry,5.4);count=doesInputEntry(entry,frais);}else if(Number(entry)>50000&&Number(entry)<=75000){frais=remainderInput(entry,2.8);count=doesInputEntry(entry,frais);}else if(Number(entry)>75000&&Number(entry)<=125000){frais=remainderInput(entry,2.9);count=doesInputEntry(entry,frais);}else if(Number(entry)>125000&&Number(entry)<=250000){frais=remainderInput(entry,1.98);count=doesInputEntry(entry,frais);}else if(Number(entry)>250000&&Number(entry)<=1000000){frais=remainderInput(entry,1.7);count=doesInputEntry(entry,frais);}else if(Number(entry)>1000000&&Number(entry)<=2500000){frais=remainderInput(entry,1.69);count=doesInputEntry(entry,frais);}else if(Number(entry)>2500000&&Number(entry)<=4500000){frais=remainderInput(entry,1.6);count=doesInputEntry(entry,frais);}else{frais=remainderInput(entry,1.6);count=doesInputEntry(entry,frais);};React.useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var querySnapshot,unsub;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(collection(db,\"client\"));case 2:querySnapshot=_context.sent;querySnapshot.forEach(function(doc){pushUser.push(doc.id);});verifierCollection=pushUser.some(function(value){return value==phoneX;});try{unsub=onSnapshot(doc(db,verifierCollection?\"client\":\"agent\",phoneX),function(doc){setPrix(doc.data().cdf);setAgent(doc.data().state);});}catch(_unused){window.console.log('error');}case 6:case\"end\":return _context.stop();}}},_callee);})),[]);var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(Number(data.count)>Number(prix)||Number(data.count)<1000){setOpen(true);reset();}else{money=Math.floor(Number(count));Unite='CDF';frais=Math.floor(Number(frais));solde=Math.floor(Number(data.count));navigation('/valid-fc');}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(REturnPriX,{count:\"\".concat(value)}),agent!='agent'&&/*#__PURE__*/_jsx(\"div\",{className:\"wrp-frais-withdraw\",children:\"Frais \".concat(count)}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrp-inputphone-send\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Entre votre Money\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:'number'},register('count',{required:true})),{},{name:\"count\",placeholder:'0',className:\"input-count\"})),/*#__PURE__*/_jsxs(Dialog,{fullWidth:fullWidth,maxWidth:maxWidth,open:open,onClose:handleClose,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"MuunganoMoney\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{children:\"La valeur demand\\xE9e n'est pas disponible, veuillez v\\xE9rifier.\"})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Fermer\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"Btn\",children:\"Suivant\"})]})]})]});};export var doesInputEntry=function doesInputEntry(x,y){return Math.floor(Number(x)-Number(y));};export var remainderInput=function remainderInput(entryInput,value){return Math.floor(entryInput*value)/100;};","map":{"version":3,"sources":["/Users/USER/Desktop/MuunganoMoney/src/FC/Input.js"],"names":["React","REturnPriX","Media","useForm","useNavigate","Fc","doc","getDocs","collection","onSnapshot","db","phoneX","Button","Dialog","DialogActions","DialogContent","DialogTitle","DialogContentText","money","count","frais","solde","Unite","REturnInputPhone","small","medium","large","matches","ScreenLarge","ScreenSmall","FormInputValue","navigation","register","handleSubmit","watch","reset","useState","prix","setPrix","agent","setAgent","pushUser","Array","verifierCollection","entry","value","undefined","Number","checked","setChecked","open","setOpen","fullWidth","setFullWidth","maxWidth","setMaxWidth","handleClickOpen","handleClose","remainderInput","doesInputEntry","useEffect","querySnapshot","forEach","push","id","some","unsub","data","cdf","state","window","console","log","onSubmit","Math","floor","required","x","y","entryInput"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Input.css';\nimport REturnPriX from './Prix';\nimport Media from 'react-media';\nimport {\n useForm\n} from 'react-hook-form';\nimport { useNavigate } from 'react-router-dom';\nimport { Fc } from '../Money';\n\nimport { doc, getDocs, collection, onSnapshot } from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { phoneX } from '../Sign/Input';\n\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContentText from '@mui/material/DialogContentText';\n\n\nexport let money = 0;\nexport let count = 0;\nexport let frais = 0;\nexport let solde = 0;\nexport let Unite = null;\n\n// Return Phone input component\nexport default function REturnInputPhone() {\n return (\n  <>\n   <Media\n    queries={{\n     small: '(max-width: 599px)',\n     medium: '(min-width: 600px) and (max-width:1199px)',\n     large: '(min-width: 1200px)',\n    }}>\n    {matches => (\n     <>\n      {matches.small && <ScreenSmall />}\n      {matches.medium && <ScreenLarge />}\n      {matches.large && <ScreenLarge />}\n     </>\n    )}\n   </Media>\n  </>\n );\n};\nexport const ScreenLarge = () => {\n return (\n  <FormInputValue />\n );\n};\nexport const ScreenSmall = () => {\n return (\n  <FormInputValue />\n )\n};\n\n\nexport const FormInputValue = () => {\n\n const navigation = useNavigate();\n const { register, handleSubmit, watch, reset } = useForm();\n const [prix, setPrix] = React.useState(Fc);\n const [agent, setAgent] = React.useState();\n\n\n let pushUser = new Array();\n let verifierCollection = null;\n\n let entry = watch('count');\n let value = entry == undefined ? prix : Number(prix) - Number(entry);\n\n const [checked, setChecked] = React.useState(true);\n const [open, setOpen] = React.useState(false);\n const [fullWidth, setFullWidth] = React.useState(true);\n const [maxWidth, setMaxWidth] = React.useState('sm');\n\n const handleClickOpen = () => {\n  setOpen(true);\n };\n const handleClose = () => {\n  setOpen(false);\n };\n\n\n if (Number(entry) <= 12500) {\n  frais = remainderInput(entry, 17.5);\n  count = doesInputEntry(entry, frais);\n }\n else if (Number(entry) > 12500 && Number(entry) <= 25000) {\n  frais = remainderInput(entry, 8.7);\n  count = count = doesInputEntry(entry, frais)\n }\n else if (Number(entry) > 25000 && Number(entry) <= 50000) {\n  frais = remainderInput(entry, 5.4);\n  count = doesInputEntry(entry, frais);\n }\n else if (Number(entry) > 50000 && Number(entry) <= 75000) {\n  frais = remainderInput(entry, 2.8);\n  count = doesInputEntry(entry, frais);\n }\n else if (Number(entry) > 75000 && Number(entry) <= 125000) {\n  frais = remainderInput(entry, 2.9);\n  count = doesInputEntry(entry, frais);\n }\n else if (Number(entry) > 125000 && Number(entry) <= 250000) {\n  frais = remainderInput(entry, 1.98);\n  count = doesInputEntry(entry, frais);\n }\n else if (Number(entry) > 250000 && Number(entry) <= 1000000) {\n  frais = remainderInput(entry, 1.7);\n  count = doesInputEntry(entry, frais);\n }\n else if (Number(entry) > 1000000 && Number(entry) <= 2500000) {\n  frais = remainderInput(entry, 1.69);\n  count = doesInputEntry(entry, frais);\n }\n else if (Number(entry) > 2500000 && Number(entry) <= 4500000) {\n  frais = remainderInput(entry, 1.6);\n  count = doesInputEntry(entry, frais);\n }\n else {\n  frais = remainderInput(entry, 1.6);\n  count = doesInputEntry(entry, frais)\n };\n\n React.useEffect(async () => {\n\n  const querySnapshot = await getDocs(collection(db, \"client\"));\n  querySnapshot.forEach((doc) => {\n   pushUser.push(doc.id);\n  });\n\n  verifierCollection = pushUser.some(value => value == phoneX);\n  try {\n\n   const unsub = onSnapshot(doc(db, verifierCollection ? \"client\" : \"agent\", phoneX), (doc) => {\n    setPrix(doc.data().cdf);\n    setAgent(doc.data().state);\n   });\n\n  } catch {\n   window.console.log('error');\n  }\n\n\n }, []);\n\n const onSubmit = async (data) => {\n\n  if (Number(data.count) > Number(prix) || Number(data.count) < 1000) {\n   setOpen(true);\n   reset();\n  } else {\n\n   money = Math.floor(Number(count));\n   Unite = 'CDF'\n   frais = Math.floor(Number(frais));\n   solde = Math.floor(Number(data.count));\n   navigation('/valid-fc');\n  }\n };\n\n return (\n  <>\n   <REturnPriX count={`${value}`} />\n   {agent != 'agent' && <div className='wrp-frais-withdraw'>{`Frais ${count}`}</div>}\n\n   <div className='wrp-inputphone-send'>\n    <h2>Entre votre Money</h2>\n    <form onSubmit={handleSubmit(onSubmit)}>\n\n     <input type={'number'}\n      {...register('count', { required: true })}\n      name=\"count\"\n      placeholder={'0'}\n      className='input-count'\n     />\n\n     <Dialog\n      fullWidth={fullWidth}\n      maxWidth={maxWidth}\n      open={open}\n      onClose={handleClose}\n     >\n      <DialogTitle>MuunganoMoney</DialogTitle>\n      <DialogContent>\n\n       <DialogContentText>\n        La valeur demandée n'est pas disponible, veuillez vérifier.\n     </DialogContentText>\n\n      </DialogContent>\n      <DialogActions>\n       <Button onClick={handleClose}>Fermer</Button>\n      </DialogActions>\n     </Dialog>\n\n     <button className='Btn'>Suivant</button>\n\n    </form>\n   </div>\n  </>\n );\n};\n\nexport const doesInputEntry = (x, y) => {\n return Math.floor(Number(x) - Number(y));\n};\nexport const remainderInput = (entryInput, value) => {\n return Math.floor(entryInput * value) / 100;\n};\n"]},"metadata":{},"sourceType":"module"}