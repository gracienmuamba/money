{"ast":null,"code":"import { a as _inherits, b as _createSuper, c as _createClass, d as _classCallCheck, e as _assertThisInitialized } from './_rollupPluginBabelHelpers-089ae9b3.js';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport IMask from 'imask/esm/imask';\nvar MASK_PROPS = {\n  // common\n  mask: PropTypes.oneOfType([PropTypes.array, PropTypes.func, PropTypes.string, PropTypes.instanceOf(RegExp), PropTypes.oneOf([Date, Number, IMask.Masked]), PropTypes.instanceOf(IMask.Masked)]),\n  value: PropTypes.any,\n  unmask: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['typed'])]),\n  prepare: PropTypes.func,\n  validate: PropTypes.func,\n  commit: PropTypes.func,\n  overwrite: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['shift'])]),\n  eager: PropTypes.bool,\n  // events\n  onAccept: PropTypes.func,\n  onComplete: PropTypes.func,\n  // pattern\n  placeholderChar: PropTypes.string,\n  lazy: PropTypes.bool,\n  definitions: PropTypes.object,\n  blocks: PropTypes.object,\n  // date\n  pattern: PropTypes.string,\n  format: PropTypes.func,\n  parse: PropTypes.func,\n  autofix: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['pad'])]),\n  // number\n  radix: PropTypes.string,\n  thousandsSeparator: PropTypes.string,\n  mapToRadix: PropTypes.arrayOf(PropTypes.string),\n  scale: PropTypes.number,\n  signed: PropTypes.bool,\n  normalizeZeros: PropTypes.bool,\n  padFractionalZeros: PropTypes.bool,\n  min: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)]),\n  max: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)]),\n  // dynamic\n  dispatch: PropTypes.func,\n  // ref\n  inputRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.object\n  })])\n};\nvar MASK_PROPS_NAMES = Object.keys(MASK_PROPS);\nvar NON_MASK_OPTIONS_PROPS_NAMES = ['value', 'unmask', 'onAccept', 'onComplete', 'inputRef'];\nvar MASK_OPTIONS_PROPS_NAMES = MASK_PROPS_NAMES.filter(function (pName) {\n  return NON_MASK_OPTIONS_PROPS_NAMES.indexOf(pName) < 0;\n}); // TODO\n// 1. seems like it's wrong to have Opts as only mask options. Other component/input props should also be there. Where is \"unmask\" prop for instance?\n// 2. Unmask should be infered from Opts (see https://github.com/uNmAnNeR/imaskjs/issues/554#issuecomment-1114014010)\n\nfunction IMaskMixin(ComposedComponent) {\n  var MaskedComponent = /*#__PURE__*/function (_React$Component) {\n    _inherits(MaskedComponent, _React$Component);\n\n    var _super = _createSuper(MaskedComponent);\n\n    function MaskedComponent(props) {\n      var _this;\n\n      _classCallCheck(this, MaskedComponent);\n\n      _this = _super.call(this, props);\n      _this._inputRef = _this._inputRef.bind(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    _createClass(MaskedComponent, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!this.props.mask) return;\n        this.initMask();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        var props = this.props;\n\n        var maskOptions = this._extractMaskOptionsFromProps(props);\n\n        if (maskOptions.mask) {\n          if (this.maskRef) {\n            this.maskRef.updateOptions(maskOptions);\n            if ('value' in props) this.maskValue = props.value;\n          } else {\n            this.initMask(maskOptions);\n          }\n        } else {\n          this.destroyMask();\n          if ('value' in props) this.element.value = props.value;\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.destroyMask();\n      }\n    }, {\n      key: \"_inputRef\",\n      value: function _inputRef(el) {\n        this.element = el;\n\n        if (this.props.inputRef) {\n          if (Object.prototype.hasOwnProperty.call(this.props.inputRef, 'current')) this.props.inputRef.current = el;else this.props.inputRef(el);\n        }\n      }\n    }, {\n      key: \"initMask\",\n      value: function initMask() {\n        var maskOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._extractMaskOptionsFromProps(this.props);\n        this.maskRef = IMask(this.element, maskOptions).on('accept', this._onAccept.bind(this)).on('complete', this._onComplete.bind(this));\n        if ('value' in this.props) this.maskValue = this.props.value;\n      }\n    }, {\n      key: \"destroyMask\",\n      value: function destroyMask() {\n        if (this.maskRef) {\n          this.maskRef.destroy();\n          delete this.maskRef;\n        }\n      }\n    }, {\n      key: \"_extractMaskOptionsFromProps\",\n      value: function _extractMaskOptionsFromProps(props) {\n        var cloneProps = Object.assign({}, props); // keep only mask options props\n\n        Object.keys(cloneProps) // TODO why need cast to string?\n        .filter(function (prop) {\n          return MASK_OPTIONS_PROPS_NAMES.indexOf(prop) < 0;\n        }).forEach(function (nonMaskProp) {\n          delete cloneProps[nonMaskProp];\n        });\n        return cloneProps;\n      }\n    }, {\n      key: \"_extractNonMaskProps\",\n      value: function _extractNonMaskProps(props) {\n        var cloneProps = Object.assign({}, props);\n        MASK_PROPS_NAMES.forEach(function (maskProp) {\n          delete cloneProps[maskProp];\n        });\n        return cloneProps;\n      }\n    }, {\n      key: \"maskValue\",\n      get: function get() {\n        if (this.props.unmask === 'typed') return this.maskRef.typedValue;\n        if (this.props.unmask) return this.maskRef.unmaskedValue;\n        return this.maskRef.value;\n      },\n      set: function set(value) {\n        value = value == null ? '' : value;\n        if (this.props.unmask === 'typed') this.maskRef.typedValue = value;else if (this.props.unmask) this.maskRef.unmaskedValue = value;else this.maskRef.value = value;\n      }\n    }, {\n      key: \"_onAccept\",\n      value: function _onAccept(e) {\n        if (this.props.onAccept && this.maskRef) this.props.onAccept(this.maskValue, this.maskRef, e);\n      }\n    }, {\n      key: \"_onComplete\",\n      value: function _onComplete(e) {\n        if (this.props.onComplete && this.maskRef) this.props.onComplete(this.maskValue, this.maskRef, e);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return React.createElement(ComposedComponent, Object.assign({}, this._extractNonMaskProps(this.props), {\n          inputRef: this._inputRef\n        }));\n      }\n    }]);\n\n    return MaskedComponent;\n  }(React.Component);\n\n  var nestedComponentName = ComposedComponent.displayName || ComposedComponent.name || 'Component';\n  MaskedComponent.displayName = \"IMask(\".concat(nestedComponentName, \")\");\n  MaskedComponent.propTypes = MASK_PROPS;\n  return MaskedComponent;\n}\n\nexport { IMaskMixin as default };","map":{"version":3,"sources":["/Users/USER/Desktop/Agent/node_modules/react-imask/esm/mixin.js"],"names":["a","_inherits","b","_createSuper","c","_createClass","d","_classCallCheck","e","_assertThisInitialized","React","PropTypes","IMask","MASK_PROPS","mask","oneOfType","array","func","string","instanceOf","RegExp","oneOf","Date","Number","Masked","value","any","unmask","bool","prepare","validate","commit","overwrite","eager","onAccept","onComplete","placeholderChar","lazy","definitions","object","blocks","pattern","format","parse","autofix","radix","thousandsSeparator","mapToRadix","arrayOf","scale","number","signed","normalizeZeros","padFractionalZeros","min","max","dispatch","inputRef","shape","current","MASK_PROPS_NAMES","Object","keys","NON_MASK_OPTIONS_PROPS_NAMES","MASK_OPTIONS_PROPS_NAMES","filter","pName","indexOf","IMaskMixin","ComposedComponent","MaskedComponent","_React$Component","_super","props","_this","call","_inputRef","bind","key","componentDidMount","initMask","componentDidUpdate","maskOptions","_extractMaskOptionsFromProps","maskRef","updateOptions","maskValue","destroyMask","element","componentWillUnmount","el","prototype","hasOwnProperty","arguments","length","undefined","on","_onAccept","_onComplete","destroy","cloneProps","assign","prop","forEach","nonMaskProp","_extractNonMaskProps","maskProp","get","typedValue","unmaskedValue","set","render","createElement","Component","nestedComponentName","displayName","name","concat","propTypes","default"],"mappings":"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","sourcesContent":["import { a as _inherits, b as _createSuper, c as _createClass, d as _classCallCheck, e as _assertThisInitialized } from './_rollupPluginBabelHelpers-089ae9b3.js';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport IMask from 'imask/esm/imask';\n\nvar MASK_PROPS = {\n  // common\n  mask: PropTypes.oneOfType([PropTypes.array, PropTypes.func, PropTypes.string, PropTypes.instanceOf(RegExp), PropTypes.oneOf([Date, Number, IMask.Masked]), PropTypes.instanceOf(IMask.Masked)]),\n  value: PropTypes.any,\n  unmask: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['typed'])]),\n  prepare: PropTypes.func,\n  validate: PropTypes.func,\n  commit: PropTypes.func,\n  overwrite: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['shift'])]),\n  eager: PropTypes.bool,\n  // events\n  onAccept: PropTypes.func,\n  onComplete: PropTypes.func,\n  // pattern\n  placeholderChar: PropTypes.string,\n  lazy: PropTypes.bool,\n  definitions: PropTypes.object,\n  blocks: PropTypes.object,\n  // date\n  pattern: PropTypes.string,\n  format: PropTypes.func,\n  parse: PropTypes.func,\n  autofix: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['pad'])]),\n  // number\n  radix: PropTypes.string,\n  thousandsSeparator: PropTypes.string,\n  mapToRadix: PropTypes.arrayOf(PropTypes.string),\n  scale: PropTypes.number,\n  signed: PropTypes.bool,\n  normalizeZeros: PropTypes.bool,\n  padFractionalZeros: PropTypes.bool,\n  min: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)]),\n  max: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)]),\n  // dynamic\n  dispatch: PropTypes.func,\n  // ref\n  inputRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.object\n  })])\n};\nvar MASK_PROPS_NAMES = Object.keys(MASK_PROPS);\nvar NON_MASK_OPTIONS_PROPS_NAMES = ['value', 'unmask', 'onAccept', 'onComplete', 'inputRef'];\nvar MASK_OPTIONS_PROPS_NAMES = MASK_PROPS_NAMES.filter(function (pName) {\n  return NON_MASK_OPTIONS_PROPS_NAMES.indexOf(pName) < 0;\n});\n// TODO\n// 1. seems like it's wrong to have Opts as only mask options. Other component/input props should also be there. Where is \"unmask\" prop for instance?\n// 2. Unmask should be infered from Opts (see https://github.com/uNmAnNeR/imaskjs/issues/554#issuecomment-1114014010)\nfunction IMaskMixin(ComposedComponent) {\n  var MaskedComponent = /*#__PURE__*/function (_React$Component) {\n    _inherits(MaskedComponent, _React$Component);\n\n    var _super = _createSuper(MaskedComponent);\n\n    function MaskedComponent(props) {\n      var _this;\n\n      _classCallCheck(this, MaskedComponent);\n\n      _this = _super.call(this, props);\n      _this._inputRef = _this._inputRef.bind(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    _createClass(MaskedComponent, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!this.props.mask) return;\n        this.initMask();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        var props = this.props;\n\n        var maskOptions = this._extractMaskOptionsFromProps(props);\n\n        if (maskOptions.mask) {\n          if (this.maskRef) {\n            this.maskRef.updateOptions(maskOptions);\n            if ('value' in props) this.maskValue = props.value;\n          } else {\n            this.initMask(maskOptions);\n          }\n        } else {\n          this.destroyMask();\n          if ('value' in props) this.element.value = props.value;\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.destroyMask();\n      }\n    }, {\n      key: \"_inputRef\",\n      value: function _inputRef(el) {\n        this.element = el;\n\n        if (this.props.inputRef) {\n          if (Object.prototype.hasOwnProperty.call(this.props.inputRef, 'current')) this.props.inputRef.current = el;else this.props.inputRef(el);\n        }\n      }\n    }, {\n      key: \"initMask\",\n      value: function initMask() {\n        var maskOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._extractMaskOptionsFromProps(this.props);\n        this.maskRef = IMask(this.element, maskOptions).on('accept', this._onAccept.bind(this)).on('complete', this._onComplete.bind(this));\n        if ('value' in this.props) this.maskValue = this.props.value;\n      }\n    }, {\n      key: \"destroyMask\",\n      value: function destroyMask() {\n        if (this.maskRef) {\n          this.maskRef.destroy();\n          delete this.maskRef;\n        }\n      }\n    }, {\n      key: \"_extractMaskOptionsFromProps\",\n      value: function _extractMaskOptionsFromProps(props) {\n        var cloneProps = Object.assign({}, props); // keep only mask options props\n\n        Object.keys(cloneProps) // TODO why need cast to string?\n        .filter(function (prop) {\n          return MASK_OPTIONS_PROPS_NAMES.indexOf(prop) < 0;\n        }).forEach(function (nonMaskProp) {\n          delete cloneProps[nonMaskProp];\n        });\n        return cloneProps;\n      }\n    }, {\n      key: \"_extractNonMaskProps\",\n      value: function _extractNonMaskProps(props) {\n        var cloneProps = Object.assign({}, props);\n        MASK_PROPS_NAMES.forEach(function (maskProp) {\n          delete cloneProps[maskProp];\n        });\n        return cloneProps;\n      }\n    }, {\n      key: \"maskValue\",\n      get: function get() {\n        if (this.props.unmask === 'typed') return this.maskRef.typedValue;\n        if (this.props.unmask) return this.maskRef.unmaskedValue;\n        return this.maskRef.value;\n      },\n      set: function set(value) {\n        value = value == null ? '' : value;\n        if (this.props.unmask === 'typed') this.maskRef.typedValue = value;else if (this.props.unmask) this.maskRef.unmaskedValue = value;else this.maskRef.value = value;\n      }\n    }, {\n      key: \"_onAccept\",\n      value: function _onAccept(e) {\n        if (this.props.onAccept && this.maskRef) this.props.onAccept(this.maskValue, this.maskRef, e);\n      }\n    }, {\n      key: \"_onComplete\",\n      value: function _onComplete(e) {\n        if (this.props.onComplete && this.maskRef) this.props.onComplete(this.maskValue, this.maskRef, e);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return React.createElement(ComposedComponent, Object.assign({}, this._extractNonMaskProps(this.props), {\n          inputRef: this._inputRef\n        }));\n      }\n    }]);\n\n    return MaskedComponent;\n  }(React.Component);\n\n  var nestedComponentName = ComposedComponent.displayName || ComposedComponent.name || 'Component';\n  MaskedComponent.displayName = \"IMask(\".concat(nestedComponentName, \")\");\n  MaskedComponent.propTypes = MASK_PROPS;\n  return MaskedComponent;\n}\n\nexport { IMaskMixin as default };\n"]},"metadata":{},"sourceType":"module"}