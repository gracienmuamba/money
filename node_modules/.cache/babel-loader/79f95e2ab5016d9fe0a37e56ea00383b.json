{"ast":null,"code":"import _objectSpread from\"/Users/USER/Desktop/Agent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/USER/Desktop/Agent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/USER/Desktop/Agent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/USER/Desktop/Agent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import'./Input.css';import{useForm}from'react-hook-form';import{useNavigate}from'react-router-dom';import{auth}from'../../firebase';import{createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged}from\"firebase/auth\";import Button from'@mui/material/Button';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogTitle from'@mui/material/DialogTitle';import DialogContentText from'@mui/material/DialogContentText';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var verifier=true;// Input form field \nexport default function ReturnInPut(){var navigation=useNavigate();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),currentUser=_React$useState4[0],setCurrentUser=_React$useState4[1];var _React$useState5=React.useState(true),_React$useState6=_slicedToArray(_React$useState5,2),fullWidth=_React$useState6[0],setFullWidth=_React$useState6[1];var _React$useState7=React.useState('sm'),_React$useState8=_slicedToArray(_React$useState7,2),maxWidth=_React$useState8[0],setMaxWidth=_React$useState8[1];React.useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onAuthStateChanged(auth,function(user){setCurrentUser(user);});case 1:case\"end\":return _context.stop();}}},_callee);})),[]);var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};// Ref collection database!\nvar onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return signInWithEmailAndPassword(auth,data.email,data.password).then(function(userCredential){// Signed in \nvar user=userCredential.user;if(user.uid!=null){verifier=false;navigation('/dash');}}).catch(function(error){var errorCode=error.code;var errorMessage=error.message;window.console.log(errorCode+' '+errorMessage);setOpen(true);reset();});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"wrp-input-sign\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",placeholder:\"example@email.com\"},register('email',{required:true}))),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"},register('password',{required:true}))),/*#__PURE__*/_jsx(\"button\",{className:\"Btn\",children:\"Connexion\"})]}),/*#__PURE__*/_jsxs(Dialog,{fullWidth:fullWidth,maxWidth:maxWidth,open:open,onClose:handleClose,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"MuunganoMoney\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{children:\"L'acc\\xE8s n'est pas autoris\\xE9,e-mail ou mot de passe administrateur, n'est pas valide.\"})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Fermer\"})})]})]});}","map":{"version":3,"sources":["/Users/USER/Desktop/Agent/src/Hm/Sign/Input.js"],"names":["React","useForm","useNavigate","auth","createUserWithEmailAndPassword","signInWithEmailAndPassword","onAuthStateChanged","Button","Dialog","DialogActions","DialogContent","DialogTitle","DialogContentText","verifier","ReturnInPut","navigation","register","handleSubmit","reset","useState","open","setOpen","currentUser","setCurrentUser","fullWidth","setFullWidth","maxWidth","setMaxWidth","useEffect","user","handleClickOpen","handleClose","onSubmit","data","email","password","then","userCredential","uid","catch","error","errorCode","code","errorMessage","message","window","console","log","required"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Input.css';\nimport { useForm } from 'react-hook-form';\nimport { useNavigate } from 'react-router-dom';\nimport { auth } from '../../firebase';\nimport {\n createUserWithEmailAndPassword,\n signInWithEmailAndPassword, onAuthStateChanged\n} from \"firebase/auth\";\n\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContentText from '@mui/material/DialogContentText';\nexport let verifier = true;\n\n// Input form field \nexport default function ReturnInPut() {\n\n const navigation = useNavigate();\n const { register, handleSubmit, reset } = useForm();\n\n const [open, setOpen] = React.useState(false);\n const [currentUser, setCurrentUser] = React.useState();\n const [fullWidth, setFullWidth] = React.useState(true);\n const [maxWidth, setMaxWidth] = React.useState('sm');\n\n React.useEffect(async () => {\n  onAuthStateChanged(auth, user => {\n   setCurrentUser(user)\n  }\n  );\n }, []);\n\n const handleClickOpen = () => {\n  setOpen(true);\n };\n const handleClose = () => {\n  setOpen(false);\n };\n\n // Ref collection database!\n const onSubmit = async (data) => {\n\n\n  // await createUserWithEmailAndPassword(auth, data.email, data.password)\n  //  .then((userCredential) => {\n  //   // Signed in \n  //   const user = userCredential.user;\n  //   console.log(user);\n  //  })\n  //  .catch((error) => {\n  //   const errorCode = error.code;\n  //   const errorMessage = error.message;\n  //   window.console.log(errorCode + ' ' + errorMessage);\n  //   window.alert(`L'accès n'est pas autorisé,e-mail ou mot de passe administrateur, n'est pas valide.`);\n  //   reset();\n  //  });\n\n\n  await signInWithEmailAndPassword(auth, data.email, data.password)\n   .then((userCredential) => {\n    // Signed in \n    const user = userCredential.user;\n    if (user.uid != null) {\n\n     verifier = false;\n     navigation('/dash');\n    }\n\n   })\n   .catch((error) => {\n\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    window.console.log(errorCode + ' ' + errorMessage);\n    setOpen(true);\n    reset();\n   });\n\n };\n\n return (\n  <div className='wrp-input-sign'>\n   <form onSubmit={handleSubmit(onSubmit)}>\n    <input type='text' placeholder='example@email.com'  {...register('email', { required: true })} />\n    <input type='password' placeholder='•••••••'  {...register('password', { required: true })} />\n    <button className='Btn'>Connexion</button>\n   </form>\n\n   <Dialog\n    fullWidth={fullWidth}\n    maxWidth={maxWidth}\n    open={open}\n    onClose={handleClose}\n   >\n    <DialogTitle>MuunganoMoney</DialogTitle>\n    <DialogContent>\n\n     <DialogContentText>\n      L'accès n'est pas autorisé,e-mail ou mot de passe administrateur, n'est pas valide.\n     </DialogContentText>\n\n    </DialogContent>\n    <DialogActions>\n     <Button onClick={handleClose}>Fermer</Button>\n    </DialogActions>\n   </Dialog>\n\n  </div>\n )\n}"]},"metadata":{},"sourceType":"module"}