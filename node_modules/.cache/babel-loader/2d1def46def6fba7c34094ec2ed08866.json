{"ast":null,"code":"import _toConsumableArray from\"/Users/USER/Desktop/Agent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/USER/Desktop/Agent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/USER/Desktop/Agent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/USER/Desktop/Agent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{db}from'../../firebase';import{doc,onSnapshot,collection,getDocs}from\"firebase/firestore\";// import { phoneX } from '../../Phone/Input';\nimport'./Swap.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var pushDocs=new Array();// Swap Continue \nexport default function ReturnSwAp(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),toSwap=_React$useState2[0],setToSwap=_React$useState2[1];React.useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var phoneUserTrafik,querySnapshot,verifier,unsub;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:phoneUserTrafik=window.localStorage.getItem('PHONE_USER_TRAFIK');_context.next=3;return getDocs(collection(db,\"client\"));case 3:querySnapshot=_context.sent;querySnapshot.forEach(function(doc){// doc.data() is never undefined for query doc snapshots\npushDocs.push(doc.id);});verifier=pushDocs.some(function(value){return value==JSON.parse(phoneUserTrafik);});unsub=onSnapshot(doc(db,verifier?\"client\":\"agent\",JSON.parse(phoneUserTrafik)),function(doc){setToSwap(doc.data().swap);});case 7:case\"end\":return _context.stop();}}},_callee);})),[]);return/*#__PURE__*/_jsx(\"div\",{className:\"wrp-swap-list\",children:_toConsumableArray(toSwap).map(function(value){return/*#__PURE__*/_jsxs(\"div\",{className:\"wrp-swap-sub-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:value.type}),/*#__PURE__*/_jsx(\"h2\",{children:value.solde}),/*#__PURE__*/_jsx(\"h2\",{children:value.date}),/*#__PURE__*/_jsx(\"h2\",{children:value.phone}),/*#__PURE__*/_jsx(\"h2\",{children:value.user})]});})});};","map":{"version":3,"sources":["/Users/USER/Desktop/Agent/src/LastFx/List/Swap.js"],"names":["React","db","doc","onSnapshot","collection","getDocs","pushDocs","Array","ReturnSwAp","useState","toSwap","setToSwap","useEffect","phoneUserTrafik","window","localStorage","getItem","querySnapshot","forEach","push","id","verifier","some","value","JSON","parse","unsub","data","swap","map","type","solde","date","phone","user"],"mappings":"qkBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,EAAT,KAAmB,gBAAnB,CACA,OAASC,GAAT,CAAcC,UAAd,CAA0BC,UAA1B,CAAsCC,OAAtC,KAAqD,oBAArD,CACA;AACA,MAAO,YAAP,C,wFAEA,GAAIC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,KAAJ,EAAf,CAEA;AACA,cAAe,SAASC,CAAAA,UAAT,EAAsB,qBAERR,KAAK,CAACS,QAAN,CAAe,EAAf,CAFQ,oDAE7BC,MAF6B,qBAErBC,SAFqB,qBAIpCX,KAAK,CAACY,SAAN,sEAAgB,oLAETC,eAFS,CAESC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,mBAA5B,CAFT,uBAGaX,CAAAA,OAAO,CAACD,UAAU,CAACH,EAAD,CAAK,QAAL,CAAX,CAHpB,QAGTgB,aAHS,eAKfA,aAAa,CAACC,OAAd,CAAsB,SAAChB,GAAD,CAAS,CAC9B;AACAI,QAAQ,CAACa,IAAT,CAAcjB,GAAG,CAACkB,EAAlB,EACA,CAHD,EAKMC,QAVS,CAUEf,QAAQ,CAACgB,IAAT,CAAc,SAAAC,KAAK,QAAIA,CAAAA,KAAK,EAAIC,IAAI,CAACC,KAAL,CAAWZ,eAAX,CAAb,EAAnB,CAVF,CAWTa,KAXS,CAWDvB,UAAU,CAACD,GAAG,CAACD,EAAD,CAAKoB,QAAQ,CAAG,QAAH,CAAc,OAA3B,CAAoCG,IAAI,CAACC,KAAL,CAAWZ,eAAX,CAApC,CAAJ,CAAsE,SAACX,GAAD,CAAS,CACtGS,SAAS,CAACT,GAAG,CAACyB,IAAJ,GAAWC,IAAZ,CAAT,CACA,CAFuB,CAXT,uDAAhB,GAeG,EAfH,EAiBA,mBACC,YAAK,SAAS,CAAC,eAAf,UACE,mBAAIlB,MAAJ,EAAYmB,GAAZ,CAAgB,SAACN,KAAD,CAAW,CAE3B,mBACC,aAAK,SAAS,CAAC,mBAAf,wBAEC,oBAAKA,KAAK,CAACO,IAAX,EAFD,cAGC,oBAAKP,KAAK,CAACQ,KAAX,EAHD,cAIC,oBAAKR,KAAK,CAACS,IAAX,EAJD,cAKC,oBAAKT,KAAK,CAACU,KAAX,EALD,cAMC,oBAAKV,KAAK,CAACW,IAAX,EAND,GADD,CAWA,CAbA,CADF,EADD,CAkBA","sourcesContent":["import React from 'react';\nimport { db } from '../../firebase';\nimport { doc, onSnapshot, collection, getDocs } from \"firebase/firestore\";\n// import { phoneX } from '../../Phone/Input';\nimport './Swap.css';\n\nlet pushDocs = new Array();\n\n// Swap Continue \nexport default function ReturnSwAp() {\n\n const [toSwap, setToSwap] = React.useState([]);\n\n React.useEffect(async () => {\n\n  const phoneUserTrafik = window.localStorage.getItem('PHONE_USER_TRAFIK');\n  const querySnapshot = await getDocs(collection(db, \"client\"));\n\n  querySnapshot.forEach((doc) => {\n   // doc.data() is never undefined for query doc snapshots\n   pushDocs.push(doc.id);\n  });\n\n  const verifier = pushDocs.some(value => value == JSON.parse(phoneUserTrafik));\n  const unsub = onSnapshot(doc(db, verifier ? \"client\" : \"agent\", JSON.parse(phoneUserTrafik)), (doc) => {\n   setToSwap(doc.data().swap);\n  });\n\n }, []);\n\n return (\n  <div className='wrp-swap-list'>\n   {[...toSwap].map((value) => {\n\n    return (\n     <div className='wrp-swap-sub-list'>\n\n      <h2>{value.type}</h2>\n      <h2>{value.solde}</h2>\n      <h2>{value.date}</h2>\n      <h2>{value.phone}</h2>\n      <h2>{value.user}</h2>\n\n     </div>\n    )\n   })}\n  </div>\n );\n};"]},"metadata":{},"sourceType":"module"}