{"version":3,"names":["React","require","react_utilities_1","TabListContext_1","useTab_unstable","props","ref","content","disabled","tabDisabled","icon","value","appearance","useTabListContext_unstable","ctx","reserveSelectedTabSpace","listDisabled","selected","selectedValue","onRegister","onUnregister","onSelect","size","vertical","innerRef","useRef","onClick","useEventCallback","event","useEffect","iconShorthand","resolveShorthand","contentShorthand","required","defaultProps","children","components","root","getNativeElementProps","useMergedRefs","role","type","undefined","iconOnly","Boolean","contentReservedSpaceClassName","exports"],"sources":["../src/packages/react-components/react-tabs/src/components/Tab/useTab.ts"],"sourcesContent":["import * as React from 'react';\nimport { getNativeElementProps, resolveShorthand, useEventCallback, useMergedRefs } from '@fluentui/react-utilities';\nimport type { TabProps, TabState } from './Tab.types';\nimport { useTabListContext_unstable } from '../TabList/TabListContext';\nimport { SelectTabEvent } from '../TabList/TabList.types';\n\n/**\n * Create the state required to render Tab.\n *\n * The returned state can be modified with hooks such as useTabStyles_unstable,\n * before being passed to renderTab_unstable.\n *\n * @param props - props from this instance of Tab\n * @param ref - reference to root HTMLElement of Tab\n */\nexport const useTab_unstable = (props: TabProps, ref: React.Ref<HTMLElement>): TabState => {\n  const { content, disabled: tabDisabled = false, icon, value } = props;\n\n  const appearance = useTabListContext_unstable(ctx => ctx.appearance);\n  const reserveSelectedTabSpace = useTabListContext_unstable(ctx => ctx.reserveSelectedTabSpace);\n  const listDisabled = useTabListContext_unstable(ctx => ctx.disabled);\n  const selected = useTabListContext_unstable(ctx => ctx.selectedValue === value);\n  const onRegister = useTabListContext_unstable(ctx => ctx.onRegister);\n  const onUnregister = useTabListContext_unstable(ctx => ctx.onUnregister);\n  const onSelect = useTabListContext_unstable(ctx => ctx.onSelect);\n  const size = useTabListContext_unstable(ctx => ctx.size);\n  const vertical = useTabListContext_unstable(ctx => !!ctx.vertical);\n  const disabled = listDisabled || tabDisabled;\n\n  const innerRef = React.useRef<HTMLElement>(null);\n  const onClick = useEventCallback((event: SelectTabEvent) => onSelect(event, { value }));\n\n  React.useEffect(() => {\n    onRegister({\n      value,\n      ref: innerRef,\n    });\n\n    return () => {\n      onUnregister({ value, ref: innerRef });\n    };\n  }, [onRegister, onUnregister, innerRef, value]);\n\n  const iconShorthand = resolveShorthand(icon);\n  const contentShorthand = resolveShorthand(content, { required: true, defaultProps: { children: props.children } });\n  return {\n    components: {\n      root: 'button',\n      icon: 'span',\n      content: 'span',\n    },\n    root: getNativeElementProps('button', {\n      ref: useMergedRefs(ref, innerRef),\n      role: 'tab',\n      type: 'button',\n      // aria-selected undefined indicates it is not selectable\n      // according to https://www.w3.org/TR/wai-aria-1.1/#aria-selected\n      'aria-selected': disabled ? undefined : `${selected}`,\n      ...props,\n      disabled,\n      onClick,\n    }),\n    icon: iconShorthand,\n    iconOnly: Boolean(iconShorthand?.children && !contentShorthand.children),\n    content: contentShorthand,\n    appearance,\n    contentReservedSpaceClassName: reserveSelectedTabSpace ? '' : undefined,\n    disabled,\n    selected,\n    size,\n    value,\n    vertical,\n  };\n};\n"],"mappings":"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"}