{"version":3,"names":["React","require","useTableSelection_1","useTableSort_1","useTableColumnSizing_1","defaultRowEnhancer","row","exports","defaultTableState","selection","defaultTableSelectionState","sort","defaultTableSortState","getRows","getRowId","items","columns","columnSizing_unstable","defaultColumnSizingState","tableRef","createRef","useTableFeatures","options","plugins","rowEnhancer","map","item","i","_a","rowId","initialState","reduce","state","plugin"],"sources":["../src/packages/react-components/react-table/src/hooks/useTableFeatures.ts"],"sourcesContent":["import * as React from 'react';\nimport type {\n  UseTableFeaturesOptions,\n  TableFeaturesState,\n  TableRowData,\n  RowEnhancer,\n  TableFeaturePlugin,\n  TableSortState,\n} from './types';\nimport { defaultTableSelectionState } from './useTableSelection';\nimport { defaultTableSortState } from './useTableSort';\nimport { defaultColumnSizingState } from './useTableColumnSizing';\n\nconst defaultRowEnhancer: RowEnhancer<unknown, TableRowData<unknown>> = row => row;\n\nexport const defaultTableState: TableFeaturesState<unknown> = {\n  selection: defaultTableSelectionState,\n  sort: defaultTableSortState,\n  getRows: () => [],\n  getRowId: () => '',\n  items: [],\n  columns: [],\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  columnSizing_unstable: defaultColumnSizingState,\n  tableRef: React.createRef<HTMLDivElement>(),\n};\n\nexport function useTableFeatures<TItem>(\n  options: UseTableFeaturesOptions<TItem>,\n  plugins: TableFeaturePlugin[] = [],\n): TableFeaturesState<TItem> {\n  const { items, getRowId, columns } = options;\n\n  const getRows = <TRowState extends TableRowData<TItem>>(\n    rowEnhancer = defaultRowEnhancer as RowEnhancer<TItem, TRowState>,\n  ) => items.map((item, i) => rowEnhancer({ item, rowId: getRowId?.(item) ?? i }));\n\n  const initialState: TableFeaturesState<TItem> = {\n    getRowId,\n    items,\n    columns,\n    getRows,\n    selection: defaultTableSelectionState,\n    sort: defaultTableSortState as TableSortState<TItem>,\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    columnSizing_unstable: defaultColumnSizingState,\n    tableRef: React.createRef(),\n  };\n\n  return plugins.reduce((state, plugin) => plugin(state), initialState);\n}\n"],"mappings":";;;;;;AAAA,MAAAA,KAAA,gBAAAC,OAAA;AASA,MAAAC,mBAAA,gBAAAD,OAAA;AACA,MAAAE,cAAA,gBAAAF,OAAA;AACA,MAAAG,sBAAA,gBAAAH,OAAA;AAEA,MAAMI,kBAAkB,GAAgDC,GAAG,IAAIA,GAAG;AAErEC,OAAA,CAAAC,iBAAiB,GAAgC;EAC5DC,SAAS,EAAEP,mBAAA,CAAAQ,0BAA0B;EACrCC,IAAI,EAAER,cAAA,CAAAS,qBAAqB;EAC3BC,OAAO,EAAEA,CAAA,KAAM,EAAE;EACjBC,QAAQ,EAAEA,CAAA,KAAM,EAAE;EAClBC,KAAK,EAAE,EAAE;EACTC,OAAO,EAAE,EAAE;EACX;EACAC,qBAAqB,EAAEb,sBAAA,CAAAc,wBAAwB;EAC/CC,QAAQ,eAAEnB,KAAK,CAACoB,SAAS;CAC1B;AAED,SAAgBC,gBAAgBA,CAC9BC,OAAuC,EACvCC,OAAA,GAAgC,EAAE;EAElC,MAAM;IAAER,KAAK;IAAED,QAAQ;IAAEE;EAAO,CAAE,GAAGM,OAAO;EAE5C,MAAMT,OAAO,GAAGA,CACdW,WAAA,GAAcnB,kBAAmD,KAC9DU,KAAK,CAACU,GAAG,CAAC,CAACC,IAAI,EAAEC,CAAC,KAAI;IAAA,IAAAC,EAAA;IAAC,OAAAJ,WAAW,CAAC;MAAEE,IAAI;MAAEG,KAAK,EAAE,CAAAD,EAAA,GAAAd,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAGY,IAAI,CAAC,cAAAE,EAAA,cAAAA,EAAA,GAAID;IAAC,CAAE,CAAC;EAAA,EAAC;EAEhF,MAAMG,YAAY,GAA8B;IAC9ChB,QAAQ;IACRC,KAAK;IACLC,OAAO;IACPH,OAAO;IACPJ,SAAS,EAAEP,mBAAA,CAAAQ,0BAA0B;IACrCC,IAAI,EAAER,cAAA,CAAAS,qBAA8C;IACpD;IACAK,qBAAqB,EAAEb,sBAAA,CAAAc,wBAAwB;IAC/CC,QAAQ,EAAEnB,KAAK,CAACoB,SAAS;GAC1B;EAED,OAAOG,OAAO,CAACQ,MAAM,CAAC,CAACC,KAAK,EAAEC,MAAM,KAAKA,MAAM,CAACD,KAAK,CAAC,EAAEF,YAAY,CAAC;AACvE;AAvBAvB,OAAA,CAAAc,gBAAA,GAAAA,gBAAA"}