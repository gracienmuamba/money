{"version":3,"names":["React","require","react_utilities_1","react_tabster_1","react_icons_1","tableContext_1","react_aria_1","sortIcons","ascending","createElement","ArrowUpRegular","fontSize","descending","ArrowDownRegular","useTableHeaderCell_unstable","props","ref","noNativeElements","sortable","useTableContext","rootComponent","_a","as","components","root","button","sortIcon","aside","getNativeElementProps","useMergedRefs","useFocusWithin","role","undefined","_b","sortDirection","resolveShorthand","required","defaultProps","children","useARIAButtonShorthand","tabIndex","type","exports"],"sources":["../src/packages/react-components/react-table/src/components/TableHeaderCell/useTableHeaderCell.tsx"],"sourcesContent":["import * as React from 'react';\nimport { getNativeElementProps, resolveShorthand, useMergedRefs } from '@fluentui/react-utilities';\nimport { useFocusWithin } from '@fluentui/react-tabster';\nimport { ArrowUpRegular, ArrowDownRegular } from '@fluentui/react-icons';\nimport type { TableHeaderCellProps, TableHeaderCellState } from './TableHeaderCell.types';\nimport { useTableContext } from '../../contexts/tableContext';\nimport { useARIAButtonShorthand } from '@fluentui/react-aria';\n\nconst sortIcons = {\n  ascending: <ArrowUpRegular fontSize={12} />,\n  descending: <ArrowDownRegular fontSize={12} />,\n};\n\n/**\n * Create the state required to render TableHeaderCell.\n *\n * The returned state can be modified with hooks such as useTableHeaderCellStyles_unstable,\n * before being passed to renderTableHeaderCell_unstable.\n *\n * @param props - props from this instance of TableHeaderCell\n * @param ref - reference to root HTMLElement of TableHeaderCell\n */\nexport const useTableHeaderCell_unstable = (\n  props: TableHeaderCellProps,\n  ref: React.Ref<HTMLElement>,\n): TableHeaderCellState => {\n  const { noNativeElements, sortable } = useTableContext();\n\n  const rootComponent = props.as ?? noNativeElements ? 'div' : 'th';\n  return {\n    components: {\n      root: rootComponent,\n      button: 'button',\n      sortIcon: 'span',\n      aside: 'span',\n    },\n    root: getNativeElementProps(rootComponent, {\n      ref: useMergedRefs(ref, useFocusWithin()),\n      role: rootComponent === 'div' ? 'columnheader' : undefined,\n      'aria-sort': sortable ? props.sortDirection ?? 'none' : undefined,\n      ...props,\n    }),\n    aside: resolveShorthand(props.aside),\n    sortIcon: resolveShorthand(props.sortIcon, {\n      required: !!props.sortDirection,\n      defaultProps: { children: props.sortDirection ? sortIcons[props.sortDirection] : undefined },\n    }),\n    button: useARIAButtonShorthand(props.button, {\n      required: true,\n      defaultProps: {\n        role: 'presentation',\n        tabIndex: -1,\n        type: 'button',\n        ...(sortable && {\n          role: undefined,\n          tabIndex: undefined,\n        }),\n      },\n    }),\n    sortable,\n    noNativeElements,\n  };\n};\n"],"mappings":";;;;;;AAAA,MAAAA,KAAA,gBAAAC,OAAA;AACA,MAAAC,iBAAA,gBAAAD,OAAA;AACA,MAAAE,eAAA,gBAAAF,OAAA;AACA,MAAAG,aAAA,gBAAAH,OAAA;AAEA,MAAAI,cAAA,gBAAAJ,OAAA;AACA,MAAAK,YAAA,gBAAAL,OAAA;AAEA,MAAMM,SAAS,GAAG;EAChBC,SAAS,eAAER,KAAA,CAAAS,aAAA,CAACL,aAAA,CAAAM,cAAc;IAACC,QAAQ,EAAE;EAAE,EAAI;EAC3CC,UAAU,eAAEZ,KAAA,CAAAS,aAAA,CAACL,aAAA,CAAAS,gBAAgB;IAACF,QAAQ,EAAE;EAAE;CAC3C;AAED;;;;;;;;;AASO,MAAMG,2BAA2B,GAAGA,CACzCC,KAA2B,EAC3BC,GAA2B,KACH;;EACxB,MAAM;IAAEC,gBAAgB;IAAEC;EAAQ,CAAE,GAAGb,cAAA,CAAAc,eAAe,EAAE;EAExD,MAAMC,aAAa,GAAG,EAAAC,EAAA,GAAAN,KAAK,CAACO,EAAE,cAAAD,EAAA,cAAAA,EAAA,GAAIJ,gBAAgB,IAAG,KAAK,GAAG,IAAI;EACjE,OAAO;IACLM,UAAU,EAAE;MACVC,IAAI,EAAEJ,aAAa;MACnBK,MAAM,EAAE,QAAQ;MAChBC,QAAQ,EAAE,MAAM;MAChBC,KAAK,EAAE;KACR;IACDH,IAAI,EAAEtB,iBAAA,CAAA0B,qBAAqB,CAACR,aAAa,EAAE;MACzCJ,GAAG,EAAEd,iBAAA,CAAA2B,aAAa,CAACb,GAAG,EAAEb,eAAA,CAAA2B,cAAc,EAAE,CAAC;MACzCC,IAAI,EAAEX,aAAa,KAAK,KAAK,GAAG,cAAc,GAAGY,SAAS;MAC1D,WAAW,EAAEd,QAAQ,GAAG,CAAAe,EAAA,GAAAlB,KAAK,CAACmB,aAAa,cAAAD,EAAA,cAAAA,EAAA,GAAI,MAAM,GAAGD,SAAS;MACjE,GAAGjB;KACJ,CAAC;IACFY,KAAK,EAAEzB,iBAAA,CAAAiC,gBAAgB,CAACpB,KAAK,CAACY,KAAK,CAAC;IACpCD,QAAQ,EAAExB,iBAAA,CAAAiC,gBAAgB,CAACpB,KAAK,CAACW,QAAQ,EAAE;MACzCU,QAAQ,EAAE,CAAC,CAACrB,KAAK,CAACmB,aAAa;MAC/BG,YAAY,EAAE;QAAEC,QAAQ,EAAEvB,KAAK,CAACmB,aAAa,GAAG3B,SAAS,CAACQ,KAAK,CAACmB,aAAa,CAAC,GAAGF;MAAS;KAC3F,CAAC;IACFP,MAAM,EAAEnB,YAAA,CAAAiC,sBAAsB,CAACxB,KAAK,CAACU,MAAM,EAAE;MAC3CW,QAAQ,EAAE,IAAI;MACdC,YAAY,EAAE;QACZN,IAAI,EAAE,cAAc;QACpBS,QAAQ,EAAE,CAAC,CAAC;QACZC,IAAI,EAAE,QAAQ;QACd,IAAIvB,QAAQ,IAAI;UACda,IAAI,EAAEC,SAAS;UACfQ,QAAQ,EAAER;SACX;;KAEJ,CAAC;IACFd,QAAQ;IACRD;GACD;AACH,CAAC;AAxCYyB,OAAA,CAAA5B,2BAA2B,GAAAA,2BAAA"}