"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.flip = void 0;
const dom_1 = /*#__PURE__*/require("@floating-ui/dom");
const index_1 = /*#__PURE__*/require("../utils/index");
function flip(options) {
  const {
    hasScrollableElement,
    flipBoundary,
    container,
    fallbackPositions = [],
    isRtl
  } = options;
  const fallbackPlacements = fallbackPositions.reduce((acc, shorthand) => {
    const {
      position,
      align
    } = index_1.resolvePositioningShorthand(shorthand);
    const placement = index_1.toFloatingUIPlacement(align, position, isRtl);
    if (placement) {
      acc.push(placement);
    }
    return acc;
  }, []);
  return dom_1.flip({
    ...(hasScrollableElement && {
      boundary: 'clippingAncestors'
    }),
    ...(flipBoundary && {
      altBoundary: true,
      boundary: index_1.getBoundary(container, flipBoundary)
    }),
    fallbackStrategy: 'bestFit',
    ...(fallbackPlacements.length && {
      fallbackPlacements
    })
  });
}
exports.flip = flip;
//# sourceMappingURL=flip.js.map