{"version":3,"names":["React","require","DefaultInfoButtonIcons_1","react_utilities_1","react_popover_1","react_utilities_2","infoButtonIconMap","small","createElement","DefaultInfoButtonIcon12","medium","DefaultInfoButtonIcon16","large","DefaultInfoButtonIcon20","popoverSizeMap","useInfoButton_unstable","props","ref","size","state","components","root","popover","Popover","content","PopoverSurface","getNativeElementProps","children","type","resolveShorthand","required","defaultProps","positioning","withArrow","role","tabIndex","popoverOpen","setPopoverOpen","useControllableState","open","defaultState","defaultOpen","initialState","onOpenChange","mergeCallbacks","e","data","exports"],"sources":["../src/packages/react-components/react-infobutton/src/components/InfoButton/useInfoButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport { DefaultInfoButtonIcon12, DefaultInfoButtonIcon16, DefaultInfoButtonIcon20 } from './DefaultInfoButtonIcons';\nimport { getNativeElementProps, mergeCallbacks, resolveShorthand } from '@fluentui/react-utilities';\nimport { Popover, PopoverSurface } from '@fluentui/react-popover';\nimport { useControllableState } from '@fluentui/react-utilities';\nimport type { InfoButtonProps, InfoButtonState } from './InfoButton.types';\nimport type { PopoverProps } from '@fluentui/react-popover';\n\nconst infoButtonIconMap = {\n  small: <DefaultInfoButtonIcon12 />,\n  medium: <DefaultInfoButtonIcon16 />,\n  large: <DefaultInfoButtonIcon20 />,\n} as const;\n\nconst popoverSizeMap = {\n  small: 'small',\n  medium: 'small',\n  large: 'medium',\n} as const;\n\n/**\n * Create the state required to render InfoButton.\n *\n * The returned state can be modified with hooks such as useInfoButtonStyles_unstable,\n * before being passed to renderInfoButton_unstable.\n *\n * @param props - props from this instance of InfoButton\n * @param ref - reference to root HTMLElement of InfoButton\n */\nexport const useInfoButton_unstable = (props: InfoButtonProps, ref: React.Ref<HTMLElement>): InfoButtonState => {\n  const { size = 'medium' } = props;\n\n  const state: InfoButtonState = {\n    size,\n\n    components: {\n      root: 'button',\n      popover: Popover as React.FC<Partial<PopoverProps>>,\n      content: PopoverSurface,\n    },\n\n    root: getNativeElementProps('button', {\n      children: infoButtonIconMap[size],\n      type: 'button',\n      'aria-label': 'information',\n      ...props,\n      ref,\n    }),\n    popover: resolveShorthand(props.popover, {\n      required: true,\n      defaultProps: {\n        positioning: 'above-start',\n        size: popoverSizeMap[size],\n        withArrow: true,\n      },\n    }),\n    content: resolveShorthand(props.content, {\n      required: true,\n      defaultProps: {\n        role: 'note',\n        tabIndex: -1,\n      },\n    }),\n  };\n\n  const [popoverOpen, setPopoverOpen] = useControllableState({\n    state: state.popover.open,\n    defaultState: state.popover.defaultOpen,\n    initialState: false,\n  });\n\n  state.popover.open = popoverOpen;\n  state.popover.onOpenChange = mergeCallbacks(state.popover.onOpenChange, (e, data) => setPopoverOpen(data.open));\n\n  return state;\n};\n"],"mappings":";;;;;;AAAA,MAAAA,KAAA,gBAAAC,OAAA;AACA,MAAAC,wBAAA,gBAAAD,OAAA;AACA,MAAAE,iBAAA,gBAAAF,OAAA;AACA,MAAAG,eAAA,gBAAAH,OAAA;AACA,MAAAI,iBAAA,gBAAAJ,OAAA;AAIA,MAAMK,iBAAiB,GAAG;EACxBC,KAAK,eAAEP,KAAA,CAAAQ,aAAA,CAACN,wBAAA,CAAAO,uBAAuB,OAAG;EAClCC,MAAM,eAAEV,KAAA,CAAAQ,aAAA,CAACN,wBAAA,CAAAS,uBAAuB,OAAG;EACnCC,KAAK,eAAEZ,KAAA,CAAAQ,aAAA,CAACN,wBAAA,CAAAW,uBAAuB;CACvB;AAEV,MAAMC,cAAc,GAAG;EACrBP,KAAK,EAAE,OAAO;EACdG,MAAM,EAAE,OAAO;EACfE,KAAK,EAAE;CACC;AAEV;;;;;;;;;AASO,MAAMG,sBAAsB,GAAGA,CAACC,KAAsB,EAAEC,GAA2B,KAAqB;EAC7G,MAAM;IAAEC,IAAI,GAAG;EAAQ,CAAE,GAAGF,KAAK;EAEjC,MAAMG,KAAK,GAAoB;IAC7BD,IAAI;IAEJE,UAAU,EAAE;MACVC,IAAI,EAAE,QAAQ;MACdC,OAAO,EAAElB,eAAA,CAAAmB,OAA0C;MACnDC,OAAO,EAAEpB,eAAA,CAAAqB;KACV;IAEDJ,IAAI,EAAElB,iBAAA,CAAAuB,qBAAqB,CAAC,QAAQ,EAAE;MACpCC,QAAQ,EAAErB,iBAAiB,CAACY,IAAI,CAAC;MACjCU,IAAI,EAAE,QAAQ;MACd,YAAY,EAAE,aAAa;MAC3B,GAAGZ,KAAK;MACRC;KACD,CAAC;IACFK,OAAO,EAAEnB,iBAAA,CAAA0B,gBAAgB,CAACb,KAAK,CAACM,OAAO,EAAE;MACvCQ,QAAQ,EAAE,IAAI;MACdC,YAAY,EAAE;QACZC,WAAW,EAAE,aAAa;QAC1Bd,IAAI,EAAEJ,cAAc,CAACI,IAAI,CAAC;QAC1Be,SAAS,EAAE;;KAEd,CAAC;IACFT,OAAO,EAAErB,iBAAA,CAAA0B,gBAAgB,CAACb,KAAK,CAACQ,OAAO,EAAE;MACvCM,QAAQ,EAAE,IAAI;MACdC,YAAY,EAAE;QACZG,IAAI,EAAE,MAAM;QACZC,QAAQ,EAAE,CAAC;;KAEd;GACF;EAED,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGhC,iBAAA,CAAAiC,oBAAoB,CAAC;IACzDnB,KAAK,EAAEA,KAAK,CAACG,OAAO,CAACiB,IAAI;IACzBC,YAAY,EAAErB,KAAK,CAACG,OAAO,CAACmB,WAAW;IACvCC,YAAY,EAAE;GACf,CAAC;EAEFvB,KAAK,CAACG,OAAO,CAACiB,IAAI,GAAGH,WAAW;EAChCjB,KAAK,CAACG,OAAO,CAACqB,YAAY,GAAGxC,iBAAA,CAAAyC,cAAc,CAACzB,KAAK,CAACG,OAAO,CAACqB,YAAY,EAAE,CAACE,CAAC,EAAEC,IAAI,KAAKT,cAAc,CAACS,IAAI,CAACP,IAAI,CAAC,CAAC;EAE/G,OAAOpB,KAAK;AACd,CAAC;AA9CY4B,OAAA,CAAAhC,sBAAsB,GAAAA,sBAAA"}