{"version":3,"names":["react_utilities_1","require","react_shared_contexts_1","useInput_unstable","props","ref","overrides","useOverrides_unstable","size","appearance","_a","inputDefaultAppearance","onChange","process","env","NODE_ENV","console","error","value","setValue","useControllableState","state","defaultState","defaultValue","initialState","nativeProps","getPartitionedNativeProps","primarySlotTagName","excludedPropNames","components","root","input","contentBefore","contentAfter","resolveShorthand","required","defaultProps","type","primary","useEventCallback","ev","newValue","target","exports"],"sources":["../src/packages/react-components/react-input/src/components/Input/useInput.ts"],"sourcesContent":["import * as React from 'react';\nimport {\n  getPartitionedNativeProps,\n  resolveShorthand,\n  useControllableState,\n  useEventCallback,\n} from '@fluentui/react-utilities';\nimport type { InputProps, InputState } from './Input.types';\nimport { useOverrides_unstable as useOverrides } from '@fluentui/react-shared-contexts';\n\n/**\n * Create the state required to render Input.\n *\n * The returned state can be modified with hooks such as useInputStyles_unstable,\n * before being passed to renderInput_unstable.\n *\n * @param props - props from this instance of Input\n * @param ref - reference to `<input>` element of Input\n */\nexport const useInput_unstable = (props: InputProps, ref: React.Ref<HTMLInputElement>): InputState => {\n  const overrides = useOverrides();\n\n  const { size = 'medium', appearance = overrides.inputDefaultAppearance ?? 'outline', onChange } = props;\n\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    (appearance === 'filled-darker-shadow' || appearance === 'filled-lighter-shadow')\n  ) {\n    // eslint-disable-next-line no-console\n    console.error(\n      \"The 'filled-darker-shadow' and 'filled-lighter-shadow' appearances are deprecated and will be removed in the\" +\n        ' future.',\n    );\n  }\n\n  const [value, setValue] = useControllableState({\n    state: props.value,\n    defaultState: props.defaultValue,\n    initialState: '',\n  });\n\n  const nativeProps = getPartitionedNativeProps({\n    props,\n    primarySlotTagName: 'input',\n    excludedPropNames: ['size', 'onChange', 'value', 'defaultValue'],\n  });\n\n  const state: InputState = {\n    size,\n    appearance,\n    components: {\n      root: 'span',\n      input: 'input',\n      contentBefore: 'span',\n      contentAfter: 'span',\n    },\n    input: resolveShorthand(props.input, {\n      required: true,\n      defaultProps: {\n        type: 'text',\n        ref,\n        ...nativeProps.primary,\n      },\n    }),\n    contentAfter: resolveShorthand(props.contentAfter),\n    contentBefore: resolveShorthand(props.contentBefore),\n    root: resolveShorthand(props.root, {\n      required: true,\n      defaultProps: nativeProps.root,\n    }),\n  };\n\n  state.input.value = value;\n  state.input.onChange = useEventCallback(ev => {\n    const newValue = ev.target.value;\n    onChange?.(ev, { value: newValue });\n    setValue(newValue);\n  });\n\n  return state;\n};\n"],"mappings":";;;;;;AACA,MAAAA,iBAAA,gBAAAC,OAAA;AAOA,MAAAC,uBAAA,gBAAAD,OAAA;AAEA;;;;;;;;;AASO,MAAME,iBAAiB,GAAGA,CAACC,KAAiB,EAAEC,GAAgC,KAAgB;;EACnG,MAAMC,SAAS,GAAGJ,uBAAA,CAAAK,qBAAY,EAAE;EAEhC,MAAM;IAAEC,IAAI,GAAG,QAAQ;IAAEC,UAAU,GAAG,CAAAC,EAAA,GAAAJ,SAAS,CAACK,sBAAsB,cAAAD,EAAA,cAAAA,EAAA,GAAI,SAAS;IAAEE;EAAQ,CAAE,GAAGR,KAAK;EAEvG,IACES,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,KACpCN,UAAU,KAAK,sBAAsB,IAAIA,UAAU,KAAK,uBAAuB,CAAC,EACjF;IACA;IACAO,OAAO,CAACC,KAAK,CACX,8GAA8G,GAC5G,UAAU,CACb;;EAGH,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,iBAAA,CAAAoB,oBAAoB,CAAC;IAC7CC,KAAK,EAAEjB,KAAK,CAACc,KAAK;IAClBI,YAAY,EAAElB,KAAK,CAACmB,YAAY;IAChCC,YAAY,EAAE;GACf,CAAC;EAEF,MAAMC,WAAW,GAAGzB,iBAAA,CAAA0B,yBAAyB,CAAC;IAC5CtB,KAAK;IACLuB,kBAAkB,EAAE,OAAO;IAC3BC,iBAAiB,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,cAAc;GAChE,CAAC;EAEF,MAAMP,KAAK,GAAe;IACxBb,IAAI;IACJC,UAAU;IACVoB,UAAU,EAAE;MACVC,IAAI,EAAE,MAAM;MACZC,KAAK,EAAE,OAAO;MACdC,aAAa,EAAE,MAAM;MACrBC,YAAY,EAAE;KACf;IACDF,KAAK,EAAE/B,iBAAA,CAAAkC,gBAAgB,CAAC9B,KAAK,CAAC2B,KAAK,EAAE;MACnCI,QAAQ,EAAE,IAAI;MACdC,YAAY,EAAE;QACZC,IAAI,EAAE,MAAM;QACZhC,GAAG;QACH,GAAGoB,WAAW,CAACa;;KAElB,CAAC;IACFL,YAAY,EAAEjC,iBAAA,CAAAkC,gBAAgB,CAAC9B,KAAK,CAAC6B,YAAY,CAAC;IAClDD,aAAa,EAAEhC,iBAAA,CAAAkC,gBAAgB,CAAC9B,KAAK,CAAC4B,aAAa,CAAC;IACpDF,IAAI,EAAE9B,iBAAA,CAAAkC,gBAAgB,CAAC9B,KAAK,CAAC0B,IAAI,EAAE;MACjCK,QAAQ,EAAE,IAAI;MACdC,YAAY,EAAEX,WAAW,CAACK;KAC3B;GACF;EAEDT,KAAK,CAACU,KAAK,CAACb,KAAK,GAAGA,KAAK;EACzBG,KAAK,CAACU,KAAK,CAACnB,QAAQ,GAAGZ,iBAAA,CAAAuC,gBAAgB,CAACC,EAAE,IAAG;IAC3C,MAAMC,QAAQ,GAAGD,EAAE,CAACE,MAAM,CAACxB,KAAK;IAChCN,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAG4B,EAAE,EAAE;MAAEtB,KAAK,EAAEuB;IAAQ,CAAE,CAAC;IACnCtB,QAAQ,CAACsB,QAAQ,CAAC;EACpB,CAAC,CAAC;EAEF,OAAOpB,KAAK;AACd,CAAC;AA7DYsB,OAAA,CAAAxC,iBAAiB,GAAAA,iBAAA"}