{"version":3,"names":["React","require","react_shared_contexts_1","tabster_1","react_utilities_1","useTabster","targetDocument","useFluent_unstable","defaultView","undefined","tabster","useMemo","createTabster","autoRoot","controlTab","useIsomorphicLayoutEffect","disposeTabster","exports"],"sources":["../src/packages/react-components/react-tabster/src/hooks/useTabster.ts"],"sourcesContent":["import * as React from 'react';\nimport { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\nimport { createTabster, disposeTabster, Types as TabsterTypes } from 'tabster';\nimport { useIsomorphicLayoutEffect } from '@fluentui/react-utilities';\n\n/**\n * Tries to get a tabster instance on the current window or creates a new one\n * Since Tabster is single instance only, feel free to call this hook to ensure Tabster exists if necessary\n *\n * @internal\n * @returns Tabster core instance\n */\nexport const useTabster = (): TabsterTypes.TabsterCore | null => {\n  const { targetDocument } = useFluent();\n\n  const defaultView = targetDocument?.defaultView || undefined;\n  const tabster = React.useMemo(() => {\n    if (!defaultView) {\n      return null;\n    }\n\n    return createTabster(defaultView, { autoRoot: {}, controlTab: false });\n  }, [defaultView]);\n\n  useIsomorphicLayoutEffect(() => {\n    return () => {\n      if (tabster) {\n        disposeTabster(tabster);\n      }\n    };\n  }, [tabster]);\n\n  return tabster;\n};\n"],"mappings":";;;;;;AAAA,MAAAA,KAAA,gBAAAC,OAAA;AACA,MAAAC,uBAAA,gBAAAD,OAAA;AACA,MAAAE,SAAA,gBAAAF,OAAA;AACA,MAAAG,iBAAA,gBAAAH,OAAA;AAEA;;;;;;;AAOO,MAAMI,UAAU,GAAGA,CAAA,KAAsC;EAC9D,MAAM;IAAEC;EAAc,CAAE,GAAGJ,uBAAA,CAAAK,kBAAS,EAAE;EAEtC,MAAMC,WAAW,GAAG,CAAAF,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEE,WAAW,KAAIC,SAAS;EAC5D,MAAMC,OAAO,GAAGV,KAAK,CAACW,OAAO,CAAC,MAAK;IACjC,IAAI,CAACH,WAAW,EAAE;MAChB,OAAO,IAAI;;IAGb,OAAOL,SAAA,CAAAS,aAAa,CAACJ,WAAW,EAAE;MAAEK,QAAQ,EAAE,EAAE;MAAEC,UAAU,EAAE;IAAK,CAAE,CAAC;EACxE,CAAC,EAAE,CAACN,WAAW,CAAC,CAAC;EAEjBJ,iBAAA,CAAAW,yBAAyB,CAAC,MAAK;IAC7B,OAAO,MAAK;MACV,IAAIL,OAAO,EAAE;QACXP,SAAA,CAAAa,cAAc,CAACN,OAAO,CAAC;;IAE3B,CAAC;EACH,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,OAAOA,OAAO;AAChB,CAAC;AArBYO,OAAA,CAAAZ,UAAU,GAAAA,UAAA"}