{"version":3,"names":["React","require","react_shared_contexts_1","useTabster_1","useFocusFinders","tabster","useTabster","targetDocument","useFluent_unstable","findAllFocusable","useCallback","container","acceptCondition","focusable","findAll","findFirstFocusable","findFirst","findLastFocusable","findLast","findNextFocusable","currentElement","options","body","findNext","findPrevFocusable","findPrev","exports"],"sources":["../src/packages/react-components/react-tabster/src/hooks/useFocusFinders.ts"],"sourcesContent":["import * as React from 'react';\nimport { Types as TabsterTypes } from 'tabster';\nimport { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\nimport { useTabster } from './useTabster';\n\n/**\n * Returns a set of helper functions that will traverse focusable elements in the context of a root DOM element\n */\nexport const useFocusFinders = () => {\n  const tabster = useTabster();\n  const { targetDocument } = useFluent();\n\n  // Narrow props for now and let need dictate additional props in the future\n  const findAllFocusable = React.useCallback(\n    (container: HTMLElement, acceptCondition?: (el: HTMLElement) => boolean) =>\n      tabster?.focusable.findAll({ container, acceptCondition }) || [],\n    [tabster],\n  );\n\n  const findFirstFocusable = React.useCallback(\n    (container: HTMLElement) => tabster?.focusable.findFirst({ container }),\n    [tabster],\n  );\n\n  const findLastFocusable = React.useCallback(\n    (container: HTMLElement) => tabster?.focusable.findLast({ container }),\n    [tabster],\n  );\n\n  const findNextFocusable = React.useCallback(\n    (currentElement: HTMLElement, options: Pick<Partial<TabsterTypes.FindNextProps>, 'container'> = {}) => {\n      if (!tabster || !targetDocument) {\n        return null;\n      }\n\n      const { container = targetDocument.body } = options;\n\n      return tabster.focusable.findNext({ currentElement, container });\n    },\n    [tabster, targetDocument],\n  );\n\n  const findPrevFocusable = React.useCallback(\n    (currentElement: HTMLElement, options: Pick<Partial<TabsterTypes.FindNextProps>, 'container'> = {}) => {\n      if (!tabster || !targetDocument) {\n        return null;\n      }\n\n      const { container = targetDocument.body } = options;\n\n      return tabster.focusable.findPrev({ currentElement, container });\n    },\n    [tabster, targetDocument],\n  );\n\n  return {\n    findAllFocusable,\n    findFirstFocusable,\n    findLastFocusable,\n    findNextFocusable,\n    findPrevFocusable,\n  };\n};\n"],"mappings":";;;;;;AAAA,MAAAA,KAAA,gBAAAC,OAAA;AAEA,MAAAC,uBAAA,gBAAAD,OAAA;AACA,MAAAE,YAAA,gBAAAF,OAAA;AAEA;;;AAGO,MAAMG,eAAe,GAAGA,CAAA,KAAK;EAClC,MAAMC,OAAO,GAAGF,YAAA,CAAAG,UAAU,EAAE;EAC5B,MAAM;IAAEC;EAAc,CAAE,GAAGL,uBAAA,CAAAM,kBAAS,EAAE;EAEtC;EACA,MAAMC,gBAAgB,GAAGT,KAAK,CAACU,WAAW,CACxC,CAACC,SAAsB,EAAEC,eAA8C,KACrE,CAAAP,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEQ,SAAS,CAACC,OAAO,CAAC;IAAEH,SAAS;IAAEC;EAAe,CAAE,CAAC,KAAI,EAAE,EAClE,CAACP,OAAO,CAAC,CACV;EAED,MAAMU,kBAAkB,GAAGf,KAAK,CAACU,WAAW,CACzCC,SAAsB,IAAKN,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEQ,SAAS,CAACG,SAAS,CAAC;IAAEL;EAAS,CAAE,CAAC,EACvE,CAACN,OAAO,CAAC,CACV;EAED,MAAMY,iBAAiB,GAAGjB,KAAK,CAACU,WAAW,CACxCC,SAAsB,IAAKN,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEQ,SAAS,CAACK,QAAQ,CAAC;IAAEP;EAAS,CAAE,CAAC,EACtE,CAACN,OAAO,CAAC,CACV;EAED,MAAMc,iBAAiB,GAAGnB,KAAK,CAACU,WAAW,CACzC,CAACU,cAA2B,EAAEC,OAAA,GAAkE,EAAE,KAAI;IACpG,IAAI,CAAChB,OAAO,IAAI,CAACE,cAAc,EAAE;MAC/B,OAAO,IAAI;;IAGb,MAAM;MAAEI,SAAS,GAAGJ,cAAc,CAACe;IAAI,CAAE,GAAGD,OAAO;IAEnD,OAAOhB,OAAO,CAACQ,SAAS,CAACU,QAAQ,CAAC;MAAEH,cAAc;MAAET;IAAS,CAAE,CAAC;EAClE,CAAC,EACD,CAACN,OAAO,EAAEE,cAAc,CAAC,CAC1B;EAED,MAAMiB,iBAAiB,GAAGxB,KAAK,CAACU,WAAW,CACzC,CAACU,cAA2B,EAAEC,OAAA,GAAkE,EAAE,KAAI;IACpG,IAAI,CAAChB,OAAO,IAAI,CAACE,cAAc,EAAE;MAC/B,OAAO,IAAI;;IAGb,MAAM;MAAEI,SAAS,GAAGJ,cAAc,CAACe;IAAI,CAAE,GAAGD,OAAO;IAEnD,OAAOhB,OAAO,CAACQ,SAAS,CAACY,QAAQ,CAAC;MAAEL,cAAc;MAAET;IAAS,CAAE,CAAC;EAClE,CAAC,EACD,CAACN,OAAO,EAAEE,cAAc,CAAC,CAC1B;EAED,OAAO;IACLE,gBAAgB;IAChBM,kBAAkB;IAClBE,iBAAiB;IACjBE,iBAAiB;IACjBK;GACD;AACH,CAAC;AAtDYE,OAAA,CAAAtB,eAAe,GAAAA,eAAA"}